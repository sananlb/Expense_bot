# üìä –û—Ç—á–µ—Ç –æ–± –∞—Ç–∞–∫–µ –±–æ—Ç–æ–≤ –Ω–∞ ExpenseBot - 20.09.2025

## üö® –û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏
- **–î–∞—Ç–∞:** 20 —Å–µ–Ω—Ç—è–±—Ä—è 2025 –≥–æ–¥–∞
- **–í—Ä–µ–º—è:** 14:22:00 - 14:22:04 (MSK)
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 4 —Å–µ–∫—É–Ω–¥—ã
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 106 —Ñ–∞–ª—å—à–∏–≤—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∞—Ç–∞–∫–∏
- **–°–∫–æ—Ä–æ—Å—Ç—å:** ~35 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É
- **–¢–∏–ø:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–∞—Å—Å–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- **–ü–∞—Ç—Ç–µ—Ä–Ω:** –í—Å–µ telegram_id –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–µ (–¥–ª–∏–Ω–Ω—ã–µ —á–∏—Å–ª–∞)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞—Å–æ—Ä–µ–Ω–∏–µ –ë–î –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ñ–∏–ª–µ–π-–±–æ—Ç–æ–≤
- ‚ùå –ù–µ –ø—Ä–∏–Ω—è–ª–∏ –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚ùå –ù–µ –∏–º–µ—é—Ç –ø–æ–¥–ø–∏—Å–æ–∫
- ‚ùå –ù–µ –∏–º–µ—é—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (—Ç—Ä–∞—Ç/–¥–æ—Ö–æ–¥–æ–≤)
- ‚ùå –ù–µ –ø—Ä–æ—à–ª–∏ –¥–∞–ª—å—à–µ –∫–æ–º–∞–Ω–¥—ã `/start`

## üîç –í–µ—Ä–æ—è—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

1. **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–∏—Å–∫–∞ Telegram –±–æ—Ç–æ–≤
2. **–ü–æ–ø–∞–¥–∞–Ω–∏–µ –≤ –∫–∞—Ç–∞–ª–æ–≥** - –±–æ—Ç –º–æ–≥ –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫
3. **–¶–µ–ª–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∞—Ç–∞–∫–∞** - –ø–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∏—Ç—å/–∑–∞—Å–æ—Ä–∏—Ç—å –ë–î
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—Ç—ã –±–æ—Ç–∞

## üõ°Ô∏è –ú–µ—Ä—ã –∑–∞—â–∏—Ç—ã

### ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (20.09.2025)

#### 1. AntiSpamMiddleware
```
–§–∞–π–ª: bot/middlewares/anti_spam.py
–ö–æ–º–º–∏—Ç—ã: 4f3586e, 0b2c07d
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ `/start`: 5 –≤ —á–∞—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç: 30 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –≤ –º–∏–Ω—É—Ç—É
- –ó–∞—â–∏—Ç–∞ –æ—Ç –±–æ—Ç–æ–≤: –º–∞–∫—Å–∏–º—É–º 3 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å–µ–∫—É–Ω–¥—É
- –í—Ä–µ–º–µ–Ω–Ω—ã–π –±–∞–Ω –Ω–∞ 30 –º–∏–Ω—É—Ç –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ó–∞–¥–µ—Ä–∂–∫–∞ 500–º—Å –¥–ª—è –ø–µ—Ä–≤–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–∞–Ω—Ç–∏-–±–æ—Ç)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ ENV:**
```env
ANTI_SPAM_MAX_STARTS_HOUR=5      # –ú–∞–∫—Å /start –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Å
ANTI_SPAM_MAX_REG_MINUTE=30      # –ú–∞–∫—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –≤ –º–∏–Ω—É—Ç—É
ANTI_SPAM_MAX_REG_SECOND=3       # –ú–∞–∫—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É
ANTI_SPAM_BAN_MINUTES=30         # –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–Ω–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö
```

### üìã –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 1. –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å –ø—Ä–æ—Ñ–∏–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ `/start`
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```
1. –í –∫–æ–º–∞–Ω–¥–µ /start:
   - –ù–ï –≤—ã–∑—ã–≤–∞—Ç—å get_or_create_profile()
   - –°–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ FSM state:
     * telegram_id
     * username
     * language_code
     * referral_code (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏

2. –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ privacy_accept:
   - –ò–∑–≤–ª–µ–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ state
   - –¢–û–õ–¨–ö–û –¢–û–ì–î–ê —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
   - –ü—Ä–∏–º–µ–Ω—è—Ç—å referral_code
   - –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–±–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É

3. –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ privacy_decline:
   - –û—á–∏—â–∞—Ç—å state
   - –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë–æ—Ç—ã –Ω–µ –Ω–∞–∂–∏–º–∞—é—Ç –∫–Ω–æ–ø–∫–∏ ‚Üí –Ω–µ —Å–æ–∑–¥–∞—é—Ç –ø—Ä–æ—Ñ–∏–ª–∏
- –ß–∏—Å—Ç–∞—è –ë–î –±–µ–∑ –º—É—Å–æ—Ä–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏

#### 2. –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
**–¶–µ–ª—å:** –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```python
# –í AntiSpamMiddleware –¥–æ–±–∞–≤–∏—Ç—å:

class AntiSpamMiddleware:
    def __init__(self):
        # –ü–æ—Ä–æ–≥–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        self.ALERT_STARTS_PER_MINUTE = 10  # –£–≤–µ–¥–æ–º–∏—Ç—å –µ—Å–ª–∏ >10 /start –≤ –º–∏–Ω—É—Ç—É
        self.ALERT_REGISTRATIONS_PER_MINUTE = 10  # –£–≤–µ–¥–æ–º–∏—Ç—å –µ—Å–ª–∏ >10 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
        self.last_alert_sent = None
        self.ALERT_COOLDOWN = timedelta(minutes=5)  # –ù–µ —Å–ø–∞–º–∏—Ç—å –∞–¥–º–∏–Ω–∞

    async def send_admin_alert(self, alert_type, details):
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ cooldown
        if self.last_alert_sent and \
           datetime.now() - self.last_alert_sent < self.ALERT_COOLDOWN:
            return

        # –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
        admin_ids = os.getenv('ADMIN_TELEGRAM_IDS', '').split(',')
        for admin_id in admin_ids:
            await bot.send_message(
                admin_id,
                f"üö® SECURITY ALERT\n"
                f"Type: {alert_type}\n"
                f"Details: {details}\n"
                f"Time: {datetime.now()}"
            )
        self.last_alert_sent = datetime.now()
```

**–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
1. **–ú–∞—Å—Å–æ–≤—ã–µ –∫–ª–∏–∫–∏ /start** - –±–æ–ª–µ–µ 10 –≤ –º–∏–Ω—É—Ç—É
2. **–ú–∞—Å—Å–æ–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** - –±–æ–ª–µ–µ 10 –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π –≤ –º–∏–Ω—É—Ç—É
3. **–ê—Ç–∞–∫–∞ –±–æ—Ç–æ–≤** - –±–æ–ª–µ–µ 5 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É
4. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–∞–Ω—ã** - –±–æ–ª–µ–µ 3 –±–∞–Ω–æ–≤ –∑–∞ 5 –º–∏–Ω—É—Ç

#### 3. –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–Ω–æ–º–∞–ª–∏–π
**–¶–µ–ª—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

**–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:**
```python
class AnomalyMonitor:
    def __init__(self):
        self.metrics = {
            'starts_per_minute': [],      # –ò—Å—Ç–æ—Ä–∏—è –∫–ª–∏–∫–æ–≤ /start
            'registrations_per_minute': [], # –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
            'unique_ips': set(),           # –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ IP (–µ—Å–ª–∏ webhook)
            'user_agents': defaultdict(int), # User-Agent —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            'registration_times': []       # –í—Ä–µ–º—è –º–µ–∂–¥—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è–º–∏
        }

    async def analyze_patterns(self):
        # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π:
        # 1. –†–µ–∑–∫–∏–π —Å–∫–∞—á–æ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (>300% –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ)
        # 2. –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ –º–µ–∂–¥—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è–º–∏ (–±–æ—Ç—ã)
        # 3. –ú–∞—Å—Å–æ–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –æ–¥–Ω–æ–≥–æ IP
        # 4. –ù–µ–æ–±—ã—á–Ω—ã–µ User-Agent
        pass
```

#### 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ä—ã –∑–∞—â–∏—Ç—ã

**A. Honeypot –ø–æ–ª—è**
```python
# –ù–µ–≤–∏–¥–∏–º–æ–µ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø–æ–ª–Ω—è—é—Ç —Ç–æ–ª—å–∫–æ –±–æ—Ç—ã
# –ï—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ - —ç—Ç–æ 100% –±–æ—Ç
```

**B. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram Premium**
```python
# –ë–æ–ª—å—à–µ –¥–æ–≤–µ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å Premium
# –ú–µ–Ω—å—à–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–ª—è –Ω–∏—Ö
```

**C. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ª–∏–º–∏—Ç—ã**
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫—É:
# - –ù–æ—á—å: —Å—Ç—Ä–æ–≥–∏–µ –ª–∏–º–∏—Ç—ã (5 —Ä–µ–≥/–º–∏–Ω)
# - –î–µ–Ω—å: –æ–±—ã—á–Ω—ã–µ (30 —Ä–µ–≥/–º–∏–Ω)
# - –ü—Ä–∏ –≤—Å–ø–ª–µ—Å–∫–µ: –≤—Ä–µ–º–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π
- –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∏–Ω—è–≤—à–∏—Ö –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç /start –¥–æ –ø—Ä–∏–Ω—è—Ç–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏

### –¢—Ä–µ–≤–æ–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- ‚ö†Ô∏è –ë–æ–ª–µ–µ 50 –ø—Ä–æ—Ñ–∏–ª–µ–π –∑–∞ —á–∞—Å
- ‚ö†Ô∏è –ú–µ–Ω–µ–µ 10% –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–æ–ª–∏—Ç–∏–∫—É
- ‚ö†Ô∏è –ë–æ–ª–µ–µ 100 –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∑–∞ —á–∞—Å
- ‚ö†Ô∏è –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º < 1 —Å–µ–∫

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
docker exec expense_bot_web python -c "
from expenses.models import Profile, Subscription
from django.utils import timezone
profiles = Profile.objects.filter(
    accepted_privacy=False,
    created_at__date=timezone.now().date()
)
print(f'–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π —Å–µ–≥–æ–¥–Ω—è: {profiles.count()}')
"
```

### –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –±–æ—Ç–æ–≤
```bash
# –ß–µ—Ä–µ–∑ Django Admin
# 1. –§–∏–ª—å—Ç—Ä: created_at = —Å–µ–≥–æ–¥–Ω—è, accepted_privacy = False
# 2. –í—ã–¥–µ–ª–∏—Ç—å –≤—Å–µ
# 3. Action: Delete selected
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```bash
# –õ–æ–≥–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
docker-compose logs bot | grep -E "(ALERT|banned|limit reached)"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
watch -n 10 'docker-compose logs bot | grep "/start" | wc -l'
```

## üìù –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ê—Ç–∞–∫–∞ –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞** - 106 –±–æ—Ç–æ–≤ –∑–∞ 4 —Å–µ–∫—É–Ω–¥—ã
2. **–ë–∞–∑–æ–≤–∞—è –∑–∞—â–∏—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞** - AntiSpamMiddleware –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–¥–æ–±–Ω—ã–µ –∞—Ç–∞–∫–∏
3. **–¢—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏
4. **–ù—É–∂–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É –ø—Ä–∏ –∞–Ω–æ–º–∞–ª–∏—è—Ö
5. **–†–µ–≥—É–ª—è—Ä–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞** - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

## üöÄ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π

1. **–°–†–û–ß–ù–û:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø—Ä–æ—Ñ–∏–ª—è
2. **–í–ê–ñ–ù–û:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
3. **–ü–õ–ê–ù–û–í–û:** –î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–Ω–æ–º–∞–ª–∏–π
4. **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ä—ã –∑–∞—â–∏—Ç—ã (honeypot, premium check)

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 20.09.2025*
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 20.09.2025*
*–ê–≤—Ç–æ—Ä: ExpenseBot Security Team*
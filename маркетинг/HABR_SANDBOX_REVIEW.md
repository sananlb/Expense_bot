# Разбор отклонения статьи в песочнице Хабра (анализ + правки)

Источник текста: `habr_content.txt`  
Вердикт НЛО: «Публикация похожа на рекламу»

## Почему отклонили (конкретные триггеры)

1. **Заголовок звучит как описание продукта + метрика успеха**  
   `Умный учёт расходов в Telegram: ... и вышел на $0.05 за пользователя` читается как промо-кейс: есть платформа, “умность”, результат/экономика → типичный рекламный паттерн.

2. **Финал = явный CTA + 2 ссылки + эмодзи**  
   ```
   Если хотите поковырять бота...
   ?? Потыкать бота: ...
   ?? Лендинг: ...
   ```
   Для песочницы это самый сильный сигнал рекламы (призыв + сразу “где купить/попробовать”).

3. **Упоминание монетизации усиливает “продажность”**  
   Формулировки вроде: «проект бесплатным… подписка тоже есть» почти гарантированно переводят статью из “инженерной” в “маркетинговую”.

4. **Тон “успеха” в выводах**  
   Фразы типа «бот работает и приносит пользу» + общий нарратив “смотрите как круто получилось” без достаточного объёма “болей/ошибок” воспринимаются как демонстрация продукта.

5. **Оформление, которое выглядит как копипаста/промо**  
   - Символы `` в тексте (ошибка кодировки/копирования) снижают “редакционное” качество и доверие.  
   - Конструкции вида `<Кофе 300>` могут ломаться в HTML-разметке Хабра (лучше `` `Кофе 300` ``).

## “Но на Хабре есть рекламные статьи — почему им можно?” (пример: /ru/articles/463969/)

Важно понимать, что наличие на Хабре статей с явными упоминаниями продукта не означает, что аналогичный материал пройдет песочницу сейчас.

По статье `https://habr.com/ru/articles/463969/` видно, что:
- Это публикация **2019 года** — правила и “строгость” модерации со временем меняются.
- Это **не песочница**: вы сейчас упираетесь именно в sandbox-фильтр “анти‑реклама для новичков”, который обычно строже.
- Формат статьи там заявлен прямо как **обзор коммерческого продукта** — такие материалы иногда публикуются, но это не дает гарантии прохождения песочницы для нового материала/аккаунта.

Вывод: ориентироваться на единичные примеры “как у них прошло” опасно — в песочнице важнее выглядеть как инженерная заметка/гайд, а не как промо-кейс.

## Если цель — SEO, но ссылки убирать “нельзя”

Разделите цель на 2 сценария:

1) **Backlink‑SEO (влияние на позиции)**  
   На Хабре внешние ссылки могут иметь атрибуты `ugc/nofollow`, поэтому прямой “линк-джус” бывает ограниченным. Часто главная ценность — доверие, брендовые запросы и реферальный трафик.

2) **Реферальный трафик (переходы)**  
   Он достигается и без “двух ссылок в конце” и без CTA-формулировок.

### Компромисс, который обычно повышает шанс пройти песочницу и при этом дает трафик

- **Оставить 1 ссылку, а не 2** (убрать “бот + лендинг” парой).  
- **Убрать CTA-формулировки** (“потыкать/попробуйте/заходите”), эмодзи и “маркетинговые” конструкции.  
- Ссылку вести не на “продающий лендинг”, а на **техстраницу/разбор на вашем домене** (например `/blog/...` или `/docs/...`), где уже аккуратно стоит CTA на бота.  
  Так ссылка выглядит как “материалы/исходники/детали”, а не как реклама продукта.
- В тексте убрать “подписка/бесплатно/монетизация” и “успех”-тон, оставить цифры как инженерные метрики.

Пример нейтральной формы (идея, не точный текст):
> Дополнительные детали/код/замеры собрал здесь: https://www.coins-bot.ru/…
> Буду рад фидбеку по оценке качества категоризации и cold start.

## Что в статье сильное (это стоит сохранить)

- **Каскадная архитектура** (словарь → regex → LLM) + мотивация “latency/cost”.  
- **Реальный код** (keyword matching, ZWJ/emoji regex) — это “валюта доверия” на Хабре.  
- **Инженерная экономика** (процент фолбэков, стоимость токенов) — оставить, но без “подписки/продаж”.

## Как переписать, чтобы пройти песочницу (минимальный набор правок)

### 1) Полностью убрать промо из финала

- Удалить ссылки на бот и лендинг из тела статьи.  
- В песочнице лучше **вообще без ссылок на продукт**. Максимум — нейтральное “проект существует” без URL (и то опционально).

**Безопасный финал (пример):**
> Сейчас уперся в (1) оценку качества категоризации без разметки и (2) cold start личного словаря.  
> Если у вас был похожий пайплайн (правила/regex → ML/LLM), буду рад идеям в комментариях.

### 2) Переупаковать заголовок в “инженерную задачу”, а не “продукт”

Вместо текущего заголовка — фокус на подходе/trade-offs:
- `Каскадная категоризация транзакций: словарь → regex → LLM (и почему так дешевле)`
- `Когда regex дешевле LLM в 1000 раз: каскад для классификации трат`
- `Гибридная категоризация: как снизить стоимость LLM до копеек на пользователя`

### 3) Переписать лид и вводные абзацы

Сместить акценты:
- меньше “у меня бот”, больше “есть задача + ограничения (скорость/цена/приватность)”;  
- заявить, что статья — про **паттерн проектирования** и “грабли”, а не про продукт.

### 4) “Экономика” — оставить, но убрать монетизацию

Оставить:
- долю запросов, уходящих в LLM;  
- средние задержки;  
- стоимость токенов;  
Убрать:
- «позволяет держать проект бесплатным»  
- «подписка тоже есть»  
- любые формулировки, которые звучат как предложение.

### 5) Добавить больше “болей” и нерешённых проблем

Хабр любит формат “наступил на грабли”. Добавьте отдельный раздел:
- холодный старт (когда словаря нет)  
- неоднозначность интента (“кофе” где?)  
- оценка качества (без ручной разметки)  
- деградация при росте категорий/словаря  
- безопасность/инъекции промпта (если есть LLM)  
- мультиязык/опечатки/эмодзи (у вас это уже сильный кусок)

### 6) Добавить “Что бы сделал иначе”

2–5 пунктов с самоиронией/признанием ошибок — снижает ощущение рекламы и повышает доверие.

### 7) Привести формат под Хабр

- заменить `<...>` на `` `...` ``  
- заменить `` на `→` или `—`  
- убрать эмодзи из заголовков/CTA‑мест  
- убедиться, что код оформлен как код-блоки, а не вставка “в текст”

## “Формула” для песочницы (практическое правило)

- **70%** — проблемы/ограничения/ошибки/грабли  
- **30%** — решения/код/архитектура  
- **0–5%** — упоминание продукта (в идеале 0% в песочнице)

## Рекомендуемая структура статьи (быстрое улучшение)

1. Постановка задачи + ограничения (latency, cost, privacy)  
2. Почему “всё в LLM” не работает (цифры)  
3. Каскад: уровень 1/2/3 (код + метрики: доля, задержка, стоимость)  
4. Грабли/краевые случаи (ZWJ/эмодзи — оставить)  
5. Нерешённые проблемы + что дальше (без “попробуйте”)  

## Чеклист перед повторной отправкой

- [ ] Нет ссылок на бот/лендинг в тексте (особенно в конце)  
- [ ] Нет “подписка/монетизация/купить/попробовать”  
- [ ] Заголовок про подход/архитектуру, не про продукт  
- [ ] Есть отдельный раздел “Нерешённые проблемы”  
- [ ] Есть “Что бы сделал иначе”  
- [ ] Нет символов ``, нет HTML-ломающих конструкций `<...>`  

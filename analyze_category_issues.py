#!/usr/bin/env python3
"""
–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –≤ —Å–∏—Å—Ç–µ–º–µ
"""

import re

# –î–∞–Ω–Ω—ã–µ –∏–∑ –∫–æ–¥–∞ –±–æ—Ç–∞
DEFAULT_CATEGORIES = [
    ('–ü—Ä–æ–¥—É–∫—Ç—ã', 'üõí'),
    ('–ö–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã', 'üçΩÔ∏è'),
    ('–ê–ó–°', '‚õΩ'),
    ('–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', 'üöï'),
    ('–ê–≤—Ç–æ–º–æ–±–∏–ª—å', 'üöó'),
    ('–ñ–∏–ª—å–µ', 'üè†'),
    ('–ê–ø—Ç–µ–∫–∏', 'üíä'),
    ('–ú–µ–¥–∏—Ü–∏–Ω–∞', 'üè•'),
    ('–ö—Ä–∞—Å–æ—Ç–∞', 'üíÑ'),
    ('–°–ø–æ—Ä—Ç –∏ —Ñ–∏—Ç–Ω–µ—Å', 'üèÉ'),
    ('–û–¥–µ–∂–¥–∞ –∏ –æ–±—É–≤—å', 'üëî'),
    ('–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è', 'üé≠'),
    ('–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', 'üìö'),
    ('–ü–æ–¥–∞—Ä–∫–∏', 'üéÅ'),
    ('–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è', '‚úàÔ∏è'),
    ('–†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏', 'üë™'),
    ('–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏', 'üì±'),
    ('–ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã', 'üí∞')
]

# –ü–µ—Ä–µ–≤–æ–¥—ã –∏–∑ language.py
TRANSLATIONS = {
    '–ü—Ä–æ–¥—É–∫—Ç—ã': 'Products',
    '–ö–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã': 'Restaurants and Cafes',
    '–ê–ó–°': 'Gas Stations',
    '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç': 'Transport',
    '–ê–≤—Ç–æ–º–æ–±–∏–ª—å': 'Car',
    '–ñ–∏–ª—å–µ': 'Housing',
    '–ê–ø—Ç–µ–∫–∏': 'Pharmacies',
    '–ú–µ–¥–∏—Ü–∏–Ω–∞': 'Medicine',
    '–ö—Ä–∞—Å–æ—Ç–∞': 'Beauty',
    '–°–ø–æ—Ä—Ç –∏ —Ñ–∏—Ç–Ω–µ—Å': 'Sports and Fitness',
    '–û–¥–µ–∂–¥–∞ –∏ –æ–±—É–≤—å': 'Clothes and Shoes',
    '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è': 'Entertainment',
    '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ': 'Education',
    '–ü–æ–¥–∞—Ä–∫–∏': 'Gifts',
    '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è': 'Travel',
    '–†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏': 'Relatives',
    '–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏': 'Utilities and Subscriptions',
    '–ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã': 'Other Expenses',
    # –û–±—Ä–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
    'Products': '–ü—Ä–æ–¥—É–∫—Ç—ã',
    'Restaurants and Cafes': '–ö–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã',
    'Gas Stations': '–ê–ó–°',
    'Transport': '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
    'Car': '–ê–≤—Ç–æ–º–æ–±–∏–ª—å',
    'Housing': '–ñ–∏–ª—å–µ',
    'Pharmacies': '–ê–ø—Ç–µ–∫–∏',
    'Medicine': '–ú–µ–¥–∏—Ü–∏–Ω–∞',
    'Beauty': '–ö—Ä–∞—Å–æ—Ç–∞',
    'Sports and Fitness': '–°–ø–æ—Ä—Ç –∏ —Ñ–∏—Ç–Ω–µ—Å',
    'Clothes and Shoes': '–û–¥–µ–∂–¥–∞ –∏ –æ–±—É–≤—å',
    'Entertainment': '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',
    'Education': '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ',
    'Gifts': '–ü–æ–¥–∞—Ä–∫–∏',
    'Travel': '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è',
    'Relatives': '–†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏',
    'Utilities and Subscriptions': '–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏',
    'Other Expenses': '–ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã',
}

# –ö–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ –≤ user.py –¥–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
ENGLISH_CATEGORIES = [
    ('Supermarkets', 'üõí'),
    ('Other Products', 'ü´ë'),
    ('Restaurants and Cafes', 'üçΩÔ∏è'),
    ('Gas Stations', '‚õΩ'),
    ('Taxi', 'üöï'),
    ('Public Transport', 'üöå'),
    ('Car', 'üöó'),
    ('Housing', 'üè†'),
    ('Pharmacies', 'üíä'),
    ('Medicine', 'üè•'),
    ('Sports', 'üèÉ'),
    ('Sports Goods', 'üèÄ'),
    ('Clothes and Shoes', 'üëî'),
    ('Flowers', 'üåπ'),
    ('Entertainment', 'üé≠'),
    ('Education', 'üìö'),
    ('Gifts', 'üéÅ'),
    ('Travel', '‚úàÔ∏è'),
    ('Communication and Internet', 'üì±'),
    ('Other Expenses', 'üí∞')
]

def analyze_category_system():
    """–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –≤ —Å–∏—Å—Ç–µ–º–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π"""
    print("=== –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú –í –°–ò–°–¢–ï–ú–ï –ö–ê–¢–ï–ì–û–†–ò–ô ===\n")
    
    # 1. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É DEFAULT_CATEGORIES –∏ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
    print("1. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ DEFAULT_CATEGORIES:")
    print("-" * 50)
    
    default_names = {name for name, _ in DEFAULT_CATEGORIES}
    
    for name, _ in DEFAULT_CATEGORIES:
        if name in TRANSLATIONS:
            translation = TRANSLATIONS[name]
            print(f"‚úÖ {name} -> {translation}")
        else:
            print(f"‚ùå –ù–ï–¢ –ü–ï–†–ï–í–û–î–ê: {name}")
    
    # 2. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
    print("\n2. –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –≤ user.py:")
    print("-" * 70)
    
    english_names = {name for name, _ in ENGLISH_CATEGORIES}
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    for ru_name, en_name in TRANSLATIONS.items():
        if any(char in ru_name for char in '–∞–±–≤–≥–¥–µ—ë–∂–∑–∏–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—É—Ñ—Ö—Ü—á—à—â—ä—ã—å—ç—é—è'):
            if en_name not in english_names:
                print(f"‚ö†Ô∏è  –ü–ï–†–ï–í–û–î –ù–ï –°–û–í–ü–ê–î–ê–ï–¢: {ru_name} -> {en_name} (–Ω–µ—Ç –≤ user.py)")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∫–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ—Ç –≤ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö
    translated_en_names = {en for ru, en in TRANSLATIONS.items() 
                          if any(char in ru for char in '–∞–±–≤–≥–¥–µ—ë–∂–∑–∏–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—É—Ñ—Ö—Ü—á—à—â—ä—ã—å—ç—é—è')}
    
    for en_name, _ in ENGLISH_CATEGORIES:
        if en_name not in translated_en_names:
            print(f"‚ùå –ù–ï–¢ –í –ü–ï–†–ï–í–û–î–ê–•: {en_name} (–µ—Å—Ç—å –≤ user.py)")
    
    # 3. –ü—Ä–æ–±–ª–µ–º–∞ —Å —ç–º–æ–¥–∑–∏
    print("\n3. –†–∞–∑–ª–∏—á–∏—è –≤ —ç–º–æ–¥–∑–∏:")
    print("-" * 30)
    
    ru_emojis = {name: emoji for name, emoji in DEFAULT_CATEGORIES}
    en_emojis = {name: emoji for name, emoji in ENGLISH_CATEGORIES}
    
    for ru_name, ru_emoji in ru_emojis.items():
        if ru_name in TRANSLATIONS:
            en_name = TRANSLATIONS[ru_name]
            if en_name in en_emojis:
                en_emoji = en_emojis[en_name]
                if ru_emoji != en_emoji:
                    print(f"‚ö†Ô∏è  –†–ê–ó–ù–´–ï –≠–ú–û–î–ó–ò: {ru_name} {ru_emoji} -> {en_name} {en_emoji}")
                else:
                    print(f"‚úÖ {ru_name} {ru_emoji} -> {en_name} {en_emoji}")
    
    # 4. –≠–º–æ–¥–∑–∏ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
    print("\n4. –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –∫–æ–¥–µ:")
    print("-" * 40)
    
    print("–í user.py –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å —ç–º–æ–¥–∑–∏ –≤ –ø–æ–ª–µ name:")
    print("category_with_icon = f\"{icon} {name}\"")
    print("ExpenseCategory.objects.get_or_create(name=category_with_icon)")
    print()
    print("–ü—Ä–∏–º–µ—Ä —Ä—É—Å—Å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:")
    for name, icon in DEFAULT_CATEGORIES[:3]:
        print(f"  –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫: '{icon} {name}'")
    print()
    print("–ü—Ä–∏–º–µ—Ä –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:")
    for name, icon in ENGLISH_CATEGORIES[:3]:
        print(f"  –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫: '{icon} {name}'")
    
    # 5. –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    print("\n" + "=" * 60)
    print("–í–´–í–û–î–´ –ò –ü–†–ò–ß–ò–ù–´ –°–ú–ï–®–ê–ù–ù–´–• –Ø–ó–´–ö–û–í:")
    print("=" * 60)
    print()
    
    print("üîç –û–°–ù–û–í–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:")
    print("1. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É DEFAULT_CATEGORIES –∏ ENGLISH_CATEGORIES")
    print("2. –ù–µ –≤—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤ language.py —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º")
    print("3. –ü—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")
    print("4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ")
    print()
    
    print("üí° –°–¶–ï–ù–ê–†–ò–ò –ü–û–Ø–í–õ–ï–ù–ò–Ø –°–ú–ï–®–ê–ù–ù–´–• –Ø–ó–´–ö–û–í:")
    print("1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ -> —Å–æ–∑–¥–∞—é—Ç—Å—è —Ä—É—Å—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")
    print("2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç —è–∑—ã–∫ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π -> –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ")
    print("3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -> –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–º —è–∑—ã–∫–µ")
    print("4. AI/–ø–∞—Ä—Å–µ—Ä –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö")
    print()
    
    print("üö® –ü–†–û–ë–õ–ï–ú–ù–´–ï –ú–ï–°–¢–ê –í –ö–û–î–ï:")
    print("1. get_or_create_category() - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–ø–ø–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π")
    print("2. AI –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è - –º–æ–∂–µ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö")
    print("3. –§—É–Ω–∫—Ü–∏—è translate_category_name() - –Ω–µ –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")
    print("4. update_default_categories_language() - –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –Ω–µ –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")

if __name__ == "__main__":
    analyze_category_system()
#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞
"""
import sys
import io
sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')

print("""
=======================================================
–¢–ï–°–¢: –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞
=======================================================

–í–ê–ñ–ù–û: –ú–µ–Ω—é –∫–µ—à–±–µ–∫–∞ —Ç–µ–ø–µ—Ä—å –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –∫–Ω–æ–ø–∫–æ–π "–ó–∞–∫—Ä—ã—Ç—å"!

–ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
---------------------
1. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥ persistent_cashback_menu=True
2. –§—É–Ω–∫—Ü–∏—è send_message_with_cleanup –ù–ï —É–¥–∞–ª—è–µ—Ç –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞ –µ—Å–ª–∏ —Ñ–ª–∞–≥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞—Ç—ã –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è restore_cashback_menu_if_needed() –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ–Ω—é
4. –§–ª–∞–≥ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ó–∞–∫—Ä—ã—Ç—å" –≤ –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞
5. –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ close_cashback_menu –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è

–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
----------------
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ /start –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
3. –ù–∞–∂–º–∏—Ç–µ "üí≥ –ö–µ—à–±—ç–∫" —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞
4. –¢–µ–ø–µ—Ä—å –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–∫–æ—Ñ–µ 200") - –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞ –û–°–¢–ê–ù–ï–¢–°–Ø
   - –ö–æ–º–∞–Ω–¥—É /start - –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞ –û–°–¢–ê–ù–ï–¢–°–Ø
   - –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é - –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞ –û–°–¢–ê–ù–ï–¢–°–Ø
   - –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ - –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞ –û–°–¢–ê–ù–ï–¢–°–Ø
   - –û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–ø–∏—Å–∫—É - –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞ –û–°–¢–ê–ù–ï–¢–°–Ø
5. –ú–µ–Ω—é –∫–µ—à–±–µ–∫–∞ –∑–∞–∫—Ä–æ–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ó–∞–∫—Ä—ã—Ç—å"

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:
-----------------
1. bot/routers/cashback.py:
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è restore_cashback_menu_if_needed()
   - –í show_cashback_menu() –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–ª–∞–≥–∞ persistent_cashback_menu=True
   - –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫—Ä—ã—Ç—å" —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç callback_data="close_cashback_menu"
   - –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ close_cashback_menu() –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é

2. bot/utils/message_utils.py:
   - –í send_message_with_cleanup() –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ persistent_cashback_menu
   - –ï—Å–ª–∏ —Ñ–ª–∞–≥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Å—Ç–∞—Ä–æ–µ –º–µ–Ω—é –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è

3. bot/routers/expense.py:
   - –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–∞—Ç—ã –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è restore_cashback_menu_if_needed()
   - –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç—Ä–∞—Ç—ã —Ç–∞–∫–∂–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞

4. –£–î–ê–õ–ï–ù–ê –æ—á–∏—Å—Ç–∫–∞ —Ñ–ª–∞–≥–∞ –∏–∑:
   - bot/routers/start.py (–∫–æ–º–∞–Ω–¥–∞ /start)
   - bot/routers/menu.py (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –º–µ–Ω—é —Ç—Ä–∞—Ç)
   - bot/routers/categories.py (–º–µ–Ω—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π)
   - bot/routers/recurring.py (—Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏)
   - bot/routers/subscription.py (–ø–æ–¥–ø–∏—Å–∫–∞)

5. –§–ª–∞–≥ –æ—á–∏—â–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –≤:
   - bot/routers/cashback.py - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ close_cashback_menu()
   - bot/routers/start.py - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–±—â–µ–π –∫–Ω–æ–ø–∫–∏ close (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
----------
–ú–µ–Ω—é –∫–µ—à–±–µ–∫–∞ —Ç–µ–ø–µ—Ä—å –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø—Ä–∏ –ª—é–±—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —è–≤–Ω–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ó–∞–∫—Ä—ã—Ç—å" –≤ —Å–∞–º–æ–º –º–µ–Ω—é –∫–µ—à–±–µ–∫–∞.
""")
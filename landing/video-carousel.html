<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Видео-демо Coins Bot</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .carousel-container {
      max-width: 900px;
      width: 100%;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
      position: relative;
    }

    .carousel-wrapper {
      position: relative;
      width: 100%;
      height: 600px;
      overflow: hidden;
    }

    .carousel-track {
      display: flex;
      transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      height: 100%;
    }

    .carousel-slide {
      min-width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      padding: 40px;
      position: relative;
    }

    .slide-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .slide-number {
      display: inline-block;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      padding: 6px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 15px;
    }

    .slide-title {
      font-size: 28px;
      font-weight: 700;
      color: #1a202c;
      margin-bottom: 10px;
      line-height: 1.3;
    }

    .slide-description {
      font-size: 16px;
      color: #64748b;
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .video-container {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f8fafc;
      border-radius: 16px;
      overflow: hidden;
      position: relative;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .video-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(45deg, #e0e7ff, #c7d2fe);
      position: relative;
    }

    video {
      width: 100%;
      height: 100%;
      object-fit: contain;
      background: #000;
    }

    .demo-phone {
      width: 280px;
      height: 560px;
      background: #1a1a1a;
      border-radius: 30px;
      padding: 10px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      position: relative;
    }

    .phone-screen {
      width: 100%;
      height: 100%;
      background: white;
      border-radius: 20px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #64748b;
    }

    /* Navigation Controls */
    .carousel-nav {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
      z-index: 10;
    }

    .nav-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #cbd5e1;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .nav-dot.active {
      background: #667eea;
      width: 32px;
      border-radius: 4px;
    }

    .nav-dot:hover {
      background: #94a3b8;
    }

    /* Arrow Controls */
    .carousel-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 48px;
      height: 48px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      z-index: 10;
      border: none;
      outline: none;
    }

    .carousel-arrow:hover {
      transform: translateY(-50%) scale(1.1);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    .carousel-arrow.prev {
      left: 20px;
    }

    .carousel-arrow.next {
      right: 20px;
    }

    .carousel-arrow svg {
      width: 24px;
      height: 24px;
      stroke: #667eea;
      stroke-width: 2.5;
      fill: none;
    }

    /* Progress Bar */
    .progress-bar {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: rgba(0, 0, 0, 0.1);
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea, #764ba2);
      width: 0;
      transition: width 5s linear;
    }

    .progress-fill.active {
      width: 100%;
    }

    /* Play/Pause Button */
    .play-pause {
      position: absolute;
      bottom: 30px;
      right: 30px;
      width: 40px;
      height: 40px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      z-index: 10;
      border: none;
      outline: none;
      transition: all 0.3s ease;
    }

    .play-pause:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    .play-pause svg {
      width: 18px;
      height: 18px;
      fill: #667eea;
    }

    /* Mobile Styles */
    @media (max-width: 768px) {
      .carousel-wrapper {
        height: 500px;
      }

      .carousel-slide {
        padding: 30px 20px;
      }

      .slide-title {
        font-size: 22px;
      }

      .slide-description {
        font-size: 14px;
      }

      .carousel-arrow {
        width: 40px;
        height: 40px;
      }

      .carousel-arrow.prev {
        left: 10px;
      }

      .carousel-arrow.next {
        right: 10px;
      }

      .demo-phone {
        width: 240px;
        height: 480px;
      }
    }

    @media (max-width: 480px) {
      .carousel-wrapper {
        height: 450px;
      }

      .slide-title {
        font-size: 20px;
      }

      .demo-phone {
        width: 200px;
        height: 400px;
      }
    }

    /* Touch feedback */
    .carousel-wrapper.dragging {
      cursor: grabbing;
    }

    .carousel-track.no-transition {
      transition: none;
    }
  </style>
</head>
<body>
  <div class="carousel-container">
    <div class="carousel-wrapper" id="carouselWrapper">
      <div class="carousel-track" id="carouselTrack">
        <!-- Slide 1: AI категоризация -->
        <div class="carousel-slide">
          <div class="slide-header">
            <span class="slide-number">01 / 07</span>
            <h2 class="slide-title">Умная категоризация с AI</h2>
            <p class="slide-description">
              Искусственный интеллект автоматически определяет категорию расхода по описанию покупки
            </p>
          </div>
          <div class="video-container">
            <div class="demo-phone">
              <div class="phone-screen">
                <video id="video1" loop muted playsinline>
                  <source src="demos/ai-categorization.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 2: Последние траты -->
        <div class="carousel-slide">
          <div class="slide-header">
            <span class="slide-number">02 / 07</span>
            <h2 class="slide-title">Последние траты и память бота</h2>
            <p class="slide-description">
              Мгновенный доступ к истории расходов - бот помнит все ваши траты и может показать их в любой момент
            </p>
          </div>
          <div class="video-container">
            <div class="demo-phone">
              <div class="phone-screen">
                <video id="video2" loop muted playsinline>
                  <source src="demos/recent-expenses.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 3: Аналитика расходов -->
        <div class="carousel-slide">
          <div class="slide-header">
            <span class="slide-number">03 / 07</span>
            <h2 class="slide-title">Аналитика расходов</h2>
            <p class="slide-description">
              Смотрите топ категорий трат и получайте рекомендации по оптимизации бюджета
            </p>
          </div>
          <div class="video-container">
            <div class="demo-phone">
              <div class="phone-screen">
                <video id="video3" loop muted playsinline>
                  <source src="demos/analytics.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 4: Кэшбэк -->
        <div class="carousel-slide">
          <div class="slide-header">
            <span class="slide-number">04 / 07</span>
            <h2 class="slide-title">Учет кэшбэка и возвратов</h2>
            <p class="slide-description">
              Отслеживайте полученный кэшбэк и возвраты средств для полной картины финансов
            </p>
          </div>
          <div class="video-container">
            <div class="demo-phone">
              <div class="phone-screen">
                <video id="video4" loop muted playsinline>
                  <source src="demos/cashback.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 5: PDF отчеты -->
        <div class="carousel-slide">
          <div class="slide-header">
            <span class="slide-number">05 / 07</span>
            <h2 class="slide-title">Красивые PDF-отчеты</h2>
            <p class="slide-description">
              Получайте детальные отчеты с графиками и аналитикой за любой период
            </p>
          </div>
          <div class="video-container">
            <div class="demo-phone">
              <div class="phone-screen">
                <video id="video5" loop muted playsinline>
                  <source src="demos/pdf-reports.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 6: Семейный бюджет -->
        <div class="carousel-slide">
          <div class="slide-header">
            <span class="slide-number">06 / 07</span>
            <h2 class="slide-title">Общий семейный бюджет</h2>
            <p class="slide-description">
              Объединяйтесь в группы до 5 человек и ведите совместный учет расходов
            </p>
          </div>
          <div class="video-container">
            <div class="demo-phone">
              <div class="phone-screen">
                <video id="video6" loop muted playsinline>
                  <source src="demos/family-budget.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </div>

        <!-- Slide 7: Вопросы боту -->
        <div class="carousel-slide">
          <div class="slide-header">
            <span class="slide-number">07 / 07</span>
            <h2 class="slide-title">Задавайте вопросы боту</h2>
            <p class="slide-description">
              Спрашивайте "Сколько я потратил на еду?" или "Какие траты были вчера?" - бот ответит мгновенно
            </p>
          </div>
          <div class="video-container">
            <div class="demo-phone">
              <div class="phone-screen">
                <video id="video7" loop muted playsinline>
                  <source src="demos/bot-questions.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Navigation Arrows -->
      <button class="carousel-arrow prev" id="prevBtn">
        <svg viewBox="0 0 24 24">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
      </button>
      <button class="carousel-arrow next" id="nextBtn">
        <svg viewBox="0 0 24 24">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>

      <!-- Progress Bar -->
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>

      <!-- Play/Pause Button -->
      <button class="play-pause" id="playPauseBtn">
        <svg id="pauseIcon" viewBox="0 0 24 24">
          <rect x="6" y="4" width="4" height="16"></rect>
          <rect x="14" y="4" width="4" height="16"></rect>
        </svg>
        <svg id="playIcon" viewBox="0 0 24 24" style="display: none;">
          <polygon points="5 3 19 12 5 21 5 3"></polygon>
        </svg>
      </button>
    </div>

    <!-- Navigation Dots -->
    <div class="carousel-nav" id="carouselNav"></div>
  </div>

  <script>
    class VideoCarousel {
      constructor() {
        this.currentSlide = 0;
        this.totalSlides = 7;
        this.autoPlayInterval = null;
        this.autoPlayDelay = 5000; // 5 seconds
        this.isPlaying = true;
        this.isDragging = false;
        this.startX = 0;
        this.currentX = 0;
        this.touchStartX = 0;

        this.init();
      }

      init() {
        this.cacheElements();
        this.createNavDots();
        this.setupEventListeners();
        this.startAutoPlay();
        this.updateSlide();
      }

      cacheElements() {
        this.track = document.getElementById('carouselTrack');
        this.wrapper = document.getElementById('carouselWrapper');
        this.prevBtn = document.getElementById('prevBtn');
        this.nextBtn = document.getElementById('nextBtn');
        this.playPauseBtn = document.getElementById('playPauseBtn');
        this.playIcon = document.getElementById('playIcon');
        this.pauseIcon = document.getElementById('pauseIcon');
        this.progressFill = document.getElementById('progressFill');
        this.navContainer = document.getElementById('carouselNav');
        this.videos = document.querySelectorAll('video');
      }

      createNavDots() {
        for (let i = 0; i < this.totalSlides; i++) {
          const dot = document.createElement('div');
          dot.className = 'nav-dot';
          if (i === 0) dot.classList.add('active');
          dot.addEventListener('click', () => this.goToSlide(i));
          this.navContainer.appendChild(dot);
        }
        this.navDots = document.querySelectorAll('.nav-dot');
      }

      setupEventListeners() {
        // Arrow navigation
        this.prevBtn.addEventListener('click', () => this.prevSlide());
        this.nextBtn.addEventListener('click', () => this.nextSlide());

        // Play/pause
        this.playPauseBtn.addEventListener('click', () => this.toggleAutoPlay());

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowLeft') this.prevSlide();
          if (e.key === 'ArrowRight') this.nextSlide();
          if (e.key === ' ') {
            e.preventDefault();
            this.toggleAutoPlay();
          }
        });

        // Touch/Swipe support
        this.wrapper.addEventListener('touchstart', (e) => this.handleTouchStart(e), { passive: true });
        this.wrapper.addEventListener('touchmove', (e) => this.handleTouchMove(e), { passive: true });
        this.wrapper.addEventListener('touchend', (e) => this.handleTouchEnd(e));

        // Mouse drag support
        this.wrapper.addEventListener('mousedown', (e) => this.handleMouseDown(e));
        this.wrapper.addEventListener('mousemove', (e) => this.handleMouseMove(e));
        this.wrapper.addEventListener('mouseup', (e) => this.handleMouseUp(e));
        this.wrapper.addEventListener('mouseleave', (e) => this.handleMouseUp(e));

        // Pause on hover
        this.wrapper.addEventListener('mouseenter', () => {
          if (this.isPlaying) this.pauseAutoPlay();
        });

        this.wrapper.addEventListener('mouseleave', () => {
          if (this.isPlaying) this.startAutoPlay();
        });
      }

      // Touch handlers
      handleTouchStart(e) {
        this.touchStartX = e.touches[0].clientX;
        this.isDragging = true;
        this.track.classList.add('no-transition');
      }

      handleTouchMove(e) {
        if (!this.isDragging) return;
        const touchX = e.touches[0].clientX;
        const diff = touchX - this.touchStartX;
        const currentTranslate = -this.currentSlide * 100;
        this.track.style.transform = `translateX(calc(${currentTranslate}% + ${diff}px))`;
      }

      handleTouchEnd(e) {
        if (!this.isDragging) return;
        this.isDragging = false;
        this.track.classList.remove('no-transition');

        const touchEndX = e.changedTouches[0].clientX;
        const diff = this.touchStartX - touchEndX;

        if (Math.abs(diff) > 50) {
          if (diff > 0) {
            this.nextSlide();
          } else {
            this.prevSlide();
          }
        } else {
          this.updateSlide();
        }
      }

      // Mouse drag handlers
      handleMouseDown(e) {
        e.preventDefault();
        this.isDragging = true;
        this.startX = e.clientX;
        this.wrapper.style.cursor = 'grabbing';
        this.track.classList.add('no-transition');
      }

      handleMouseMove(e) {
        if (!this.isDragging) return;
        e.preventDefault();
        const diff = e.clientX - this.startX;
        const currentTranslate = -this.currentSlide * 100;
        this.track.style.transform = `translateX(calc(${currentTranslate}% + ${diff}px))`;
      }

      handleMouseUp(e) {
        if (!this.isDragging) return;
        this.isDragging = false;
        this.wrapper.style.cursor = 'grab';
        this.track.classList.remove('no-transition');

        const diff = this.startX - e.clientX;

        if (Math.abs(diff) > 50) {
          if (diff > 0) {
            this.nextSlide();
          } else {
            this.prevSlide();
          }
        } else {
          this.updateSlide();
        }
      }

      prevSlide() {
        this.currentSlide = (this.currentSlide - 1 + this.totalSlides) % this.totalSlides;
        this.updateSlide();
        this.resetAutoPlay();
      }

      nextSlide() {
        this.currentSlide = (this.currentSlide + 1) % this.totalSlides;
        this.updateSlide();
        this.resetAutoPlay();
      }

      goToSlide(index) {
        this.currentSlide = index;
        this.updateSlide();
        this.resetAutoPlay();
      }

      updateSlide() {
        // Update track position
        this.track.style.transform = `translateX(-${this.currentSlide * 100}%)`;

        // Update nav dots
        this.navDots.forEach((dot, index) => {
          dot.classList.toggle('active', index === this.currentSlide);
        });

        // Play current video
        this.videos.forEach((video, index) => {
          if (index === this.currentSlide) {
            video.currentTime = 0;
            video.play().catch(e => console.log('Video play failed:', e));
          } else {
            video.pause();
          }
        });

        // Reset and start progress bar
        this.progressFill.classList.remove('active');
        setTimeout(() => {
          this.progressFill.classList.add('active');
        }, 50);
      }

      startAutoPlay() {
        if (this.autoPlayInterval) clearInterval(this.autoPlayInterval);
        this.autoPlayInterval = setInterval(() => {
          this.nextSlide();
        }, this.autoPlayDelay);
        this.progressFill.classList.add('active');
      }

      pauseAutoPlay() {
        if (this.autoPlayInterval) {
          clearInterval(this.autoPlayInterval);
          this.autoPlayInterval = null;
        }
        this.progressFill.style.animationPlayState = 'paused';
      }

      resetAutoPlay() {
        if (this.isPlaying) {
          this.pauseAutoPlay();
          this.startAutoPlay();
        }
      }

      toggleAutoPlay() {
        this.isPlaying = !this.isPlaying;

        if (this.isPlaying) {
          this.startAutoPlay();
          this.playIcon.style.display = 'none';
          this.pauseIcon.style.display = 'block';
        } else {
          this.pauseAutoPlay();
          this.playIcon.style.display = 'block';
          this.pauseIcon.style.display = 'none';
        }
      }
    }

    // Initialize carousel when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      new VideoCarousel();
    });
  </script>
</body>
</html>
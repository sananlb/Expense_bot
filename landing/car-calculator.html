<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤–ª–∞–¥–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º | Coins Bot</title>
  <meta name="description" content="–£–∑–Ω–∞–π—Ç–µ —Å–∫–æ–ª—å–∫–æ –†–ï–ê–õ–¨–ù–û —Å—Ç–æ–∏—Ç –≤–ª–∞–¥–µ—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º. –°—Ä–∞–≤–Ω–∏—Ç–µ —Å —Ç–∞–∫—Å–∏ –∏ –ø—Ä–æ–∫–∞—Ç–æ–º. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ —É–ø—É—â–µ–Ω–Ω—É—é –≤—ã–≥–æ–¥—É –æ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π. –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä.">

  <!-- SEO -->
  <link rel="canonical" href="https://www.coins-bot.ru/car-calculator.html">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.coins-bot.ru/car-calculator.html">
  <meta property="og:title" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤–ª–∞–¥–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º">
  <meta property="og:description" content="–Ø –ø–æ—Å—á–∏—Ç–∞–ª: –º–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –æ–±—Ö–æ–¥–∏—Ç—Å—è –≤ 142,510‚ÇΩ/–≥–æ–¥. –ê —É —Ç–µ–±—è? –ü–æ—Å—á–∏—Ç–∞–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ!">
  <meta property="og:image" content="https://www.coins-bot.ru/og-image.jpg">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMSY7V8YY7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YMSY7V8YY7');
  </script>

  <!-- Yandex.Metrika -->
  <script type="text/javascript">
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();
    for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
    k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
    ym(104228689, "init", {clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true});
  </script>

  <!-- Fonts -->
  <link rel="stylesheet" href="fonts/fonts.css">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <style>
    :root {
      --primary: #2563eb;
      --primary-dark: #1e40af;
      --secondary: #6e82e3;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --dark: #0f172a;
      --gray: #64748b;
      --light: #f8fafc;
      --white: #ffffff;
      --radius: 16px;
      --font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --font-display: 'Sora', 'Inter', sans-serif;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-body);
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      color: var(--dark);
      line-height: 1.6;
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Header */
    header {
      background: var(--white);
      padding: 20px 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      margin-bottom: 40px;
    }

    .header-content {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-family: var(--font-display);
      font-size: 24px;
      font-weight: 700;
      color: var(--primary);
      text-decoration: none;
    }

    .back-link {
      color: var(--gray);
      text-decoration: none;
      font-size: 14px;
      transition: color 0.2s;
    }

    .back-link:hover {
      color: var(--primary);
    }

    /* Hero */
    .hero {
      text-align: center;
      margin-bottom: 60px;
    }

    .hero h1 {
      font-family: var(--font-display);
      font-size: 48px;
      font-weight: 700;
      color: var(--dark);
      margin-bottom: 20px;
      line-height: 1.2;
    }

    .hero p {
      font-size: 20px;
      color: var(--gray);
      max-width: 700px;
      margin: 0 auto;
    }

    /* Main Layout */
    .calculator-layout {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 60px;
    }

    /* Input Section */
    .input-section {
      background: var(--white);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

    .block {
      margin-bottom: 30px;
      padding-bottom: 30px;
      border-bottom: 1px solid #e5e7eb;
    }

    .block:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .block-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .field-group {
      margin-bottom: 20px;
    }

    .field-group:last-child {
      margin-bottom: 0;
    }

    label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: var(--dark);
      margin-bottom: 8px;
    }

    .label-with-tooltip {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .tooltip {
      position: relative;
      display: inline-block;
      cursor: help;
      color: var(--gray);
      font-size: 16px;
    }

    .tooltip:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      left: 50%;
      bottom: 100%;
      transform: translateX(-50%);
      background: var(--dark);
      color: var(--white);
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 12px;
      white-space: nowrap;
      z-index: 10;
      margin-bottom: 5px;
    }

    input[type="number"],
    select {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 16px;
      font-family: var(--font-body);
      transition: border-color 0.2s;
    }

    input[type="number"]:focus,
    select:focus {
      outline: none;
      border-color: var(--primary);
    }

    .calculated-field {
      background: #f8fafc;
      padding: 12px 16px;
      border-radius: 12px;
      font-size: 16px;
      color: var(--primary);
      font-weight: 600;
    }

    /* Results Section */
    .results-section {
      position: sticky;
      top: 20px;
      height: fit-content;
    }

    .results-card {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: var(--white);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 8px 24px rgba(37, 99, 235, 0.2);
      margin-bottom: 20px;
    }

    .results-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .results-subtitle {
      font-size: 14px;
      opacity: 0.9;
      margin-bottom: 30px;
    }

    .result-item {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 15px;
    }

    .result-item:last-child {
      margin-bottom: 0;
    }

    .result-label {
      font-size: 14px;
      opacity: 0.9;
      margin-bottom: 8px;
    }

    .result-value {
      font-size: 32px;
      font-weight: 700;
      font-family: var(--font-display);
    }

    .result-breakdown {
      font-size: 12px;
      opacity: 0.8;
      margin-top: 8px;
    }

    /* Chart Card */
    .chart-card {
      background: var(--white);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      margin-bottom: 20px;
    }

    .chart-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--dark);
    }


    /* Verdict Section */
    .verdict-section {
      background: var(--white);
      border-radius: var(--radius);
      padding: 40px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      margin-bottom: 40px;
      text-align: center;
    }

    .verdict-title {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--dark);
    }

    .verdict-result {
      font-size: 24px;
      font-weight: 600;
      color: var(--success);
      margin-bottom: 30px;
    }

    .verdict-reasons {
      text-align: left;
      max-width: 600px;
      margin: 0 auto 30px;
    }

    .verdict-reasons li {
      margin-bottom: 10px;
      font-size: 16px;
      color: var(--gray);
    }

    /* CTA Buttons */
    .cta-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: 16px 32px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      text-decoration: none;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
      display: inline-block;
    }

    .btn-primary {
      background: var(--primary);
      color: var(--white);
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: var(--white);
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-secondary:hover {
      background: var(--light);
    }

    /* Comparison Table */
    .comparison-table {
      width: 100%;
      margin-top: 30px;
      border-collapse: collapse;
    }

    .comparison-table th,
    .comparison-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #e5e7eb;
    }

    .comparison-table th {
      background: var(--light);
      font-weight: 600;
      color: var(--dark);
    }

    .comparison-table .winner {
      background: rgba(16, 185, 129, 0.1);
      font-weight: 600;
      color: var(--success);
    }

    /* Responsive */
    @media (max-width: 968px) {
      .calculator-layout {
        grid-template-columns: 1fr;
      }

      .results-section {
        position: static;
      }

      .hero h1 {
        font-size: 36px;
      }
    }

    @media (max-width: 640px) {
      .hero h1 {
        font-size: 28px;
      }

      .hero p {
        font-size: 16px;
      }

      .result-value {
        font-size: 24px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-content">
      <a href="/" class="logo">ü™ô Coins Bot</a>
      <a href="/" class="back-link">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>
  </header>

  <div class="container">
    <!-- Hero -->
    <div class="hero">
      <h1>üöó –°–∫–æ–ª—å–∫–æ –†–ï–ê–õ–¨–ù–û —Å—Ç–æ–∏—Ç –≤–ª–∞–¥–µ—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º?</h1>
      <p>–£–∑–Ω–∞–π—Ç–µ –Ω–∞—Å—Ç–æ—è—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–∞–¥–µ–Ω–∏—è –∞–≤—Ç–æ –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏</p>
    </div>

    <!-- Calculator Layout -->
    <div class="calculator-layout">
      <!-- Left Column: Input -->
      <div class="input-section">
        <!-- Block 1: Car Info -->
        <div class="block">
          <h3 class="block-title">üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ–º–æ–±–∏–ª–µ</h3>

          <div class="field-group">
            <label>
              <span class="label-with-tooltip">
                –°—Ç–æ–∏–º–æ—Å—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è
                <span class="tooltip" data-tooltip="–¢–µ–∫—É—â–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–∞—à–µ–≥–æ –∞–≤—Ç–æ">‚ÑπÔ∏è</span>
              </span>
            </label>
            <input type="number" id="carCost" value="2700000" step="100000">
          </div>

          <div class="field-group">
            <label>–ü—Ä–æ–±–µ–≥ –∑–∞ –≥–æ–¥ (–∫–º)</label>
            <input type="number" id="yearlyMileage" value="10000" step="1000">
          </div>

          <div class="field-group">
            <label>–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π —Å—Ä–æ–∫ –≤–ª–∞–¥–µ–Ω–∏—è (–ª–µ—Ç)</label>
            <select id="ownershipYears">
              <option value="3">3 –≥–æ–¥–∞</option>
              <option value="5" selected>5 –ª–µ—Ç</option>
              <option value="7">7 –ª–µ—Ç</option>
              <option value="10">10 –ª–µ—Ç</option>
            </select>
          </div>

          <div class="field-group">
            <label>–ì–æ—Ä–æ–¥</label>
            <select id="city">
              <option value="moscow">–ú–æ—Å–∫–≤–∞</option>
              <option value="spb">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
              <option value="region" selected>–†–µ–≥–∏–æ–Ω</option>
            </select>
          </div>
        </div>

        <!-- Block 2: Regular Expenses -->
        <div class="block">
          <h3 class="block-title">üí∞ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã</h3>

          <div class="field-group">
            <label>
              <span class="label-with-tooltip">
                –¢–æ–ø–ª–∏–≤–æ –≤ –≥–æ–¥ (‚ÇΩ)
                <span class="tooltip" data-tooltip="–ü—Ä–æ–±–µ–≥ √ó —Ä–∞—Å—Ö–æ–¥ √ó —Ü–µ–Ω–∞ —Ç–æ–ø–ª–∏–≤–∞">‚ÑπÔ∏è</span>
              </span>
            </label>
            <input type="number" id="fuelCost" value="44000" step="1000">
          </div>

          <div class="field-group">
            <label>–û–°–ê–ì–û (‚ÇΩ/–≥–æ–¥)</label>
            <input type="number" id="osago" value="15000" step="1000">
          </div>

          <div class="field-group">
            <label>
              <span class="label-with-tooltip">
                –ö–ê–°–ö–û (‚ÇΩ/–≥–æ–¥)
                <span class="tooltip" data-tooltip="–û–±—ã—á–Ω–æ 2-5% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∞–≤—Ç–æ">‚ÑπÔ∏è</span>
              </span>
            </label>
            <input type="number" id="kasko" value="0" step="5000">
          </div>

          <div class="field-group">
            <label>–ù–∞–ª–æ–≥ –Ω–∞ –∞–≤—Ç–æ (‚ÇΩ/–≥–æ–¥)</label>
            <input type="number" id="carTax" value="9510" step="1000">
          </div>

          <div class="field-group">
            <label>–ú–æ–π–∫–∞ (‚ÇΩ/–º–µ—Å—è—Ü)</label>
            <input type="number" id="carWash" value="1000" step="500">
          </div>

          <div class="field-group">
            <label>–®—Ç—Ä–∞—Ñ—ã (‚ÇΩ/–º–µ—Å—è—Ü)</label>
            <input type="number" id="fines" value="250" step="100">
          </div>

          <div class="field-group">
            <label>–ü–∞—Ä–∫–æ–≤–∫–∞ (‚ÇΩ/–º–µ—Å—è—Ü)</label>
            <input type="number" id="parking" value="0" step="1000">
          </div>

          <div class="field-group">
            <label>
              <span class="label-with-tooltip">
                –¢–û –∏ —Ä–µ–º–æ–Ω—Ç—ã (‚ÇΩ/–≥–æ–¥)
                <span class="tooltip" data-tooltip="–ü–ª–∞–Ω–æ–≤–æ–µ –¢–û + –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–π —Ä–µ–º–æ–Ω—Ç">‚ÑπÔ∏è</span>
              </span>
            </label>
            <input type="number" id="maintenance" value="45000" step="5000">
          </div>

          <div class="field-group">
            <label>–†–∞—Å—Ö–æ–¥–Ω–∏–∫–∏ (‚ÇΩ/–≥–æ–¥)</label>
            <input type="number" id="consumables" value="3000" step="1000">
          </div>
        </div>

        <!-- Block 3: Alternative -->
        <div class="block">
          <h3 class="block-title">üöï –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –¢–∞–∫—Å–∏ + –ü—Ä–æ–∫–∞—Ç</h3>

          <div class="field-group">
            <label>–ü–æ–µ–∑–¥–æ–∫ –Ω–∞ —Ç–∞–∫—Å–∏ –≤ –Ω–µ–¥–µ–ª—é</label>
            <input type="number" id="taxiTripsWeek" value="4" step="1">
          </div>

          <div class="field-group">
            <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ —Ç–∞–∫—Å–∏ (‚ÇΩ)</label>
            <input type="number" id="taxiCost" value="500" step="50">
          </div>

          <div class="field-group">
            <label>–ü—Ä–æ–∫–∞—Ç –∞–≤—Ç–æ (—Ä–∞–∑ –≤ –º–µ—Å—è—Ü)</label>
            <input type="number" id="rentalTimesMonth" value="2" step="1">
          </div>

          <div class="field-group">
            <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–∫–∞—Ç–∞ (‚ÇΩ/—Å—É—Ç–∫–∏)</label>
            <input type="number" id="rentalCostDay" value="6000" step="500">
          </div>

          <div class="field-group">
            <label>–î–Ω–µ–π –∞—Ä–µ–Ω–¥—ã –∑–∞ —Ä–∞–∑</label>
            <input type="number" id="rentalDays" value="1" step="1">
          </div>
        </div>

        <!-- Block 4: Investment -->
        <div class="block">
          <h3 class="block-title">üìà –£–ø—É—â–µ–Ω–Ω–∞—è –≤—ã–≥–æ–¥–∞ –æ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π</h3>

          <div class="field-group">
            <label>
              <span class="label-with-tooltip">
                –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π (%/–≥–æ–¥)
                <span class="tooltip" data-tooltip="–°—Ä–µ–¥–Ω—è—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –ú–æ—Å–±–∏—Ä–∂–∏: ~14%">‚ÑπÔ∏è</span>
              </span>
            </label>
            <input type="number" id="investmentReturn" value="14" step="1" min="0" max="30">
          </div>

          <div class="field-group">
            <label>–£–ø—É—â–µ–Ω–Ω–∞—è –≤—ã–≥–æ–¥–∞ –≤ –≥–æ–¥:</label>
            <div class="calculated-field" id="lostProfit">0 ‚ÇΩ</div>
          </div>
        </div>
      </div>

      <!-- Right Column: Results -->
      <div class="results-section">
        <!-- Results Card -->
        <div class="results-card">
          <h2 class="results-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞</h2>
          <p class="results-subtitle">–ü–æ–ª–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å —É—á–µ—Ç–æ–º —É–ø—É—â–µ–Ω–Ω–æ–π –≤—ã–≥–æ–¥—ã</p>

          <div class="result-item">
            <div class="result-label">–°–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å</div>
            <div class="result-value" id="carTotal">0 ‚ÇΩ</div>
            <div class="result-breakdown" id="carBreakdown"></div>
          </div>

          <div class="result-item">
            <div class="result-label">–¢–∞–∫—Å–∏ + –ø—Ä–æ–∫–∞—Ç</div>
            <div class="result-value" id="taxiTotal">0 ‚ÇΩ</div>
            <div class="result-breakdown" id="taxiBreakdown"></div>
          </div>

          <div class="result-item" style="background: rgba(255,255,255,0.25);">
            <div class="result-label">–†–∞–∑–Ω–∏—Ü–∞</div>
            <div class="result-value" id="difference">0 ‚ÇΩ</div>
            <div class="result-breakdown" id="differenceText"></div>
          </div>
        </div>

        <!-- Chart -->
        <div class="chart-card">
          <h3 class="chart-title">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –∞–≤—Ç–æ</h3>
          <canvas id="expensesChart"></canvas>
        </div>

        <!-- Comparison Chart -->
        <div class="chart-card">
          <h3 class="chart-title">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</h3>
          <canvas id="comparisonChart"></canvas>
        </div>
      </div>
    </div>

    <!-- Verdict -->
    <div class="verdict-section">
      <h2 class="verdict-title">–í–µ—Ä–¥–∏–∫—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞</h2>
      <div class="verdict-result" id="verdictResult">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      <div id="verdictContent"></div>

      <div class="cta-buttons">
        <a href="https://t.me/showmecoin_bot" class="btn btn-primary" target="_blank">
          ü§ñ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å Coins Bot –±–µ—Å–ø–ª–∞—Ç–Ω–æ
        </a>
        <a href="/" class="btn btn-secondary">
          üåê –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –±–æ—Ç–µ
        </a>
      </div>
    </div>
  </div>

  <script>
    // Chart instances
    let expensesChart, comparisonChart;

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      initCharts();
      calculate();

      // Add event listeners to all inputs
      const inputs = document.querySelectorAll('input, select');
      inputs.forEach(input => {
        input.addEventListener('input', calculate);
        input.addEventListener('change', calculate);
      });
    });

    function calculate() {
      // Get all values
      const carCost = parseFloat(document.getElementById('carCost').value) || 0;
      const yearlyMileage = parseFloat(document.getElementById('yearlyMileage').value) || 0;
      const ownershipYears = parseFloat(document.getElementById('ownershipYears').value) || 5;

      const fuelCost = parseFloat(document.getElementById('fuelCost').value) || 0;
      const osago = parseFloat(document.getElementById('osago').value) || 0;
      const kasko = parseFloat(document.getElementById('kasko').value) || 0;
      const carTax = parseFloat(document.getElementById('carTax').value) || 0;
      const carWash = parseFloat(document.getElementById('carWash').value) || 0;
      const fines = parseFloat(document.getElementById('fines').value) || 0;
      const parking = parseFloat(document.getElementById('parking').value) || 0;
      const maintenance = parseFloat(document.getElementById('maintenance').value) || 0;
      const consumables = parseFloat(document.getElementById('consumables').value) || 0;

      const taxiTripsWeek = parseFloat(document.getElementById('taxiTripsWeek').value) || 0;
      const taxiCost = parseFloat(document.getElementById('taxiCost').value) || 0;
      const rentalTimesMonth = parseFloat(document.getElementById('rentalTimesMonth').value) || 0;
      const rentalCostDay = parseFloat(document.getElementById('rentalCostDay').value) || 0;
      const rentalDays = parseFloat(document.getElementById('rentalDays').value) || 1;

      const investmentReturn = parseFloat(document.getElementById('investmentReturn').value) || 14;

      // Calculate car expenses
      const monthlyExpenses = (carWash + fines + parking);
      const yearlyExpenses = fuelCost + osago + kasko + carTax + (monthlyExpenses * 12) + maintenance + consumables;

      // Calculate taxi + rental
      const taxiYearly = taxiTripsWeek * 52 * taxiCost;
      const rentalYearly = rentalTimesMonth * 12 * rentalCostDay * rentalDays;
      const alternativeTotal = taxiYearly + rentalYearly;

      // Calculate lost profit
      const lostProfit = carCost * (investmentReturn / 100);
      document.getElementById('lostProfit').textContent = formatMoney(lostProfit);

      // Calculate totals (always TCO - with lost profit)
      const carTotal = yearlyExpenses + lostProfit;
      const taxiTotal = alternativeTotal;
      const difference = carTotal - taxiTotal;

      // Update display
      document.getElementById('carTotal').textContent = formatMoney(carTotal);
      document.getElementById('taxiTotal').textContent = formatMoney(taxiTotal);
      document.getElementById('difference').textContent = formatMoney(Math.abs(difference));

      // Breakdown (always TCO) - with per km and per period
      const costPerKm = yearlyMileage > 0 ? carTotal / yearlyMileage : 0;
      const totalForPeriod = carTotal * ownershipYears;
      document.getElementById('carBreakdown').textContent =
        `–†–∞—Å—Ö–æ–¥—ã: ${formatMoney(yearlyExpenses)} + –£–ø—É—â–µ–Ω–æ: ${formatMoney(lostProfit)} ‚Ä¢ ${formatMoney(costPerKm)}/–∫–º ‚Ä¢ ${formatMoney(totalForPeriod)} –∑–∞ ${ownershipYears} –ª–µ—Ç`;

      const taxiTotalForPeriod = taxiTotal * ownershipYears;
      document.getElementById('taxiBreakdown').textContent =
        `–¢–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã ‚Ä¢ ${formatMoney(taxiTotalForPeriod)} –∑–∞ ${ownershipYears} –ª–µ—Ç`;

      // Difference text - fixed logic for difference = 0
      if (difference > 0) {
        document.getElementById('differenceText').textContent =
          `–¢–∞–∫—Å–∏+–ø—Ä–æ–∫–∞—Ç –¥–µ—à–µ–≤–ª–µ –Ω–∞ ${formatMoney(Math.abs(difference))}/–≥–æ–¥`;
      } else if (difference < 0) {
        document.getElementById('differenceText').textContent =
          `–°–≤–æ–π –∞–≤—Ç–æ –¥–µ—à–µ–≤–ª–µ –Ω–∞ ${formatMoney(Math.abs(difference))}/–≥–æ–¥`;
      } else {
        document.getElementById('differenceText').textContent =
          `–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–≤–Ω—ã –ø–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏`;
      }

      // Update verdict
      updateVerdict(difference, carTotal, taxiTotal, yearlyMileage, taxiTripsWeek);

      // Update charts with real values
      updateCharts(fuelCost, osago, kasko, carTax, carWash, fines, parking, maintenance, consumables, carTotal, taxiTotal);
    }

    function updateVerdict(difference, carTotal, taxiTotal, yearlyMileage, taxiTripsWeek) {
      const verdictResult = document.getElementById('verdictResult');
      const verdictContent = document.getElementById('verdictContent');

      if (difference < 0) {
        // Car is cheaper (difference is negative)
        verdictResult.textContent = `‚úÖ –î–ª—è –≤–∞—Å –≤—ã–≥–æ–¥–Ω–µ–µ: –°–í–û–ô –ê–í–¢–û–ú–û–ë–ò–õ–¨`;
        verdictResult.style.color = '#10b981';

        verdictContent.innerHTML = `
          <ul class="verdict-reasons">
            <li>‚úÖ –í—ã –µ–∑–¥–∏—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–∞—Å—Ç–æ (${taxiTripsWeek} —Ä–∞–∑/–Ω–µ–¥)</li>
            <li>‚úÖ –¢–∞–∫—Å–∏+–ø—Ä–æ–∫–∞—Ç –æ–±–æ–π–¥–µ—Ç—Å—è –¥–æ—Ä–æ–∂–µ –Ω–∞ ${formatMoney(Math.abs(difference))}/–≥–æ–¥</li>
            <li>üí° –í—ã —ç–∫–æ–Ω–æ–º–∏—Ç–µ ${formatMoney(Math.abs(difference) / 12)}/–º–µ—Å</li>
          </ul>
          <p style="color: var(--gray); font-size: 14px; margin-top: 20px;">
            üí° –°–æ–≤–µ—Ç: –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –í–°–ï —Ç—Ä–∞—Ç—ã –Ω–∞ –∞–≤—Ç–æ —á–µ—Ä–µ–∑ Coins Bot, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É
          </p>
        `;
      } else {
        // Taxi is cheaper
        verdictResult.textContent = `üöï –î–ª—è –≤–∞—Å –≤—ã–≥–æ–¥–Ω–µ–µ: –¢–ê–ö–°–ò + –ü–†–û–ö–ê–¢`;
        verdictResult.style.color = '#f59e0b';

        const lostProfitYearly = parseFloat(document.getElementById('lostProfit').textContent.replace(/[^\d]/g, ''));

        verdictContent.innerHTML = `
          <ul class="verdict-reasons">
            <li>üí∞ –≠–∫–æ–Ω–æ–º–∏—è ${formatMoney(difference)}/–≥–æ–¥ (${formatMoney(difference / 12)}/–º–µ—Å)</li>
            <li>üìà –£–ø—É—â–µ–Ω–Ω–∞—è –≤—ã–≥–æ–¥–∞ –æ—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π: ${formatMoney(lostProfitYearly)}/–≥–æ–¥</li>
            <li>‚è±Ô∏è –í —Ç–∞–∫—Å–∏ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —á–∏—Ç–∞—Ç—å, –æ—Ç–¥—ã—Ö–∞—Ç—å</li>
            <li>üîß –ù–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –æ —Ä–µ–º–æ–Ω—Ç–µ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏</li>
          </ul>
          <p style="color: var(--gray); font-size: 14px; margin-top: 20px;">
            ‚ö†Ô∏è –ù–æ —É—á—Ç–∏—Ç–µ: –≤—ã —Ç–µ—Ä—è–µ—Ç–µ —Å–≤–æ–±–æ–¥—É –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏—è –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
          </p>
        `;
      }
    }

    function formatMoney(value) {
      return new Intl.NumberFormat('ru-RU', {
        style: 'currency',
        currency: 'RUB',
        minimumFractionDigits: 0,
        maximumFractionDigits: 0
      }).format(value);
    }

    function initCharts() {
      // Expenses breakdown chart
      const ctx1 = document.getElementById('expensesChart').getContext('2d');
      expensesChart = new Chart(ctx1, {
        type: 'doughnut',
        data: {
          labels: ['–¢–æ–ø–ª–∏–≤–æ', '–¢–û –∏ —Ä–µ–º–æ–Ω—Ç', '–°—Ç—Ä–∞—Ö–æ–≤–∫–∞', '–ù–∞–ª–æ–≥', '–ú–æ–π–∫–∞', '–ü–∞—Ä–∫–æ–≤–∫–∞', '–ü—Ä–æ—á–µ–µ'],
          datasets: [{
            data: [0, 0, 0, 0, 0, 0, 0],
            backgroundColor: [
              '#3b82f6',
              '#ef4444',
              '#10b981',
              '#f59e0b',
              '#8b5cf6',
              '#ec4899',
              '#6b7280'
            ]
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: {
              position: 'bottom'
            }
          }
        }
      });

      // Comparison chart
      const ctx2 = document.getElementById('comparisonChart').getContext('2d');
      comparisonChart = new Chart(ctx2, {
        type: 'bar',
        data: {
          labels: ['–°–≤–æ–π –∞–≤—Ç–æ', '–¢–∞–∫—Å–∏ + –ø—Ä–æ–∫–∞—Ç'],
          datasets: [{
            label: '–°—Ç–æ–∏–º–æ—Å—Ç—å –≤ –≥–æ–¥ (‚ÇΩ)',
            data: [0, 0],
            backgroundColor: ['#2563eb', '#10b981']
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback: function(value) {
                  return formatMoney(value);
                }
              }
            }
          },
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
    }

    function updateCharts(fuel, osago, kasko, tax, carWash, fines, parking, maintenance, consumables, carTotal, taxiTotal) {
      // Update expenses chart with real values
      const washYearly = carWash * 12;
      const finesYearly = fines * 12;
      const parkingYearly = parking * 12;

      expensesChart.data.datasets[0].data = [
        fuel,
        maintenance,
        osago + kasko,
        tax,
        washYearly,
        parkingYearly,
        consumables + finesYearly
      ];
      expensesChart.update();

      // Update comparison chart
      comparisonChart.data.datasets[0].data = [carTotal, taxiTotal];
      comparisonChart.update();
    }
  </script>
</body>
</html>

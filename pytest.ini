[pytest]
# Django settings module for tests
DJANGO_SETTINGS_MODULE = expense_bot.settings

# Python paths
pythonpath = .

# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Minimum pytest version
minversion = 8.0

# Add options
addopts =
    -v
    --tb=short
    --strict-markers
    -ra

# Test markers
markers =
    unit: Unit tests (fast, no DB)
    integration: Integration tests (may need DB)
    slow: Slow tests (> 1s)
    django_db: Tests that require database access
    asyncio: Async tests

# Async mode for pytest-asyncio
asyncio_mode = auto

# Ignore patterns
norecursedirs =
    .git
    .tox
    dist
    build
    *.egg
    venv
    archive
    __pycache__
    .pytest_cache

# Timeout for tests (optional, requires pytest-timeout)
# timeout = 30

# Coverage options (optional, requires pytest-cov)
# addopts = --cov=bot --cov-report=term-missing

# Warnings to show
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

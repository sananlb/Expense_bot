# Руководство по Django админке ExpenseBot

## Доступ к админке

1. **Запустите Django сервер:**
   ```bash
   python manage.py runserver
   ```

2. **Откройте в браузере:**
   ```
   http://127.0.0.1:8000/admin/
   ```

3. **Войдите с учетными данными:**
   - Username: `admin`
   - Password: `admin123`

## Основные разделы

### 1. Профили (Profiles)
Управление пользователями бота:
- **Просмотр информации**: telegram_id, username, статус подписки
- **Бета-тестеры**: назначение/удаление статуса бета-тестера
- **Реферальная программа**: просмотр рефералов, генерация реферальных кодов
- **Массовые действия**:
  - `Сделать бета-тестерами` - дать доступ к бета-версии
  - `Убрать из бета-тестеров` - отозвать бета-доступ
  - `Сгенерировать реферальные коды` - создать уникальные коды для пользователей

### 2. Подписки (Subscriptions)
Управление подписками пользователей:
- **Статус подписки**: активность, дата окончания, оставшиеся дни
- **Типы подписок**: trial (пробный), month (месяц), six_months (6 месяцев)
- **Действия**:
  - `Продлить на 30 дней` - продление выбранных подписок

### 3. Промокоды (Promo Codes)
Создание и управление промокодами:
- **Типы скидок**:
  - `percent` - процентная скидка
  - `fixed` - фиксированная скидка в Stars
  - `days` - дополнительные дни подписки
- **Ограничения**: максимальное количество использований, период действия
- **Действия**:
  - `Активировать` - включить промокоды
  - `Деактивировать` - отключить промокоды

### 4. Траты (Expenses)
Просмотр всех трат пользователей:
- Фильтрация по дате, категории, пользователю
- Просмотр AI-категоризации
- Статистика по категориям

### 5. Категории (Expense Categories)
Управление категориями трат:
- Просмотр категорий по пользователям
- Количество трат в категории
- Активация/деактивация категорий

### 6. Ежемесячные платежи (Recurring Payments)
Управление автоматическими ежемесячными тратами:
- Просмотр активных ежемесячных платежей
- День месяца для списания
- История обработки

### 7. Кешбэки (Cashbacks)
Информация о настроенных кешбэках:
- Банк и процент кешбэка
- Категория и месяц действия
- Лимиты кешбэка

### 8. Реферальные бонусы (Referral Bonuses)
Отслеживание реферальной программы:
- Кто кого пригласил
- Начисленные бонусные дни
- Статус активации бонусов

## Полезные фильтры и поиск

### Поиск пользователей:
- По telegram_id
- По username
- По имени
- По реферальному коду

### Фильтрация подписок:
- По типу (trial/month/six_months)
- По активности
- По дате окончания

### Фильтрация промокодов:
- По активности
- По типу скидки
- По дате действия

## Массовые операции

1. **Выберите объекты** галочками слева
2. **Выберите действие** из выпадающего списка
3. **Нажмите "Выполнить"**

## Экспорт данных

Для экспорта данных из любого раздела:
1. Примените нужные фильтры
2. Выберите объекты для экспорта
3. Используйте стандартный экспорт Django (если настроен)

## Безопасность

⚠️ **Важно**: 
- Смените пароль администратора после первого входа
- Используйте HTTPS в продакшене
- Ограничьте доступ к админке по IP
- Регулярно делайте бэкапы базы данных

## Примеры использования

### Создание промокода на скидку 50%:
1. Перейдите в раздел "Promo Codes"
2. Нажмите "Добавить промокод"
3. Заполните:
   - Код: `WELCOME50`
   - Тип скидки: `percent`
   - Значение: `50`
   - Макс. использований: `100`
4. Сохраните

### Назначение бета-тестера:
1. Найдите пользователя в разделе "Profiles"
2. Откройте профиль
3. В разделе "Бета-тестирование" отметьте "Бета-тестер"
4. Опционально добавьте ключ доступа
5. Сохраните

### Продление подписки вручную:
1. Перейдите в "Subscriptions"
2. Найдите нужную подписку
3. Выберите галочкой
4. В действиях выберите "Продлить на 30 дней"
5. Нажмите "Выполнить"
# –í–∞–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Claude

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: Git –∫–æ–º–º–∏—Ç—ã ‚ö†Ô∏è

### **–í–°–ï–ì–î–ê –í–ö–õ–Æ–ß–ê–ô –í–°–ï –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´ –í –ö–û–ú–ú–ò–¢!**

**–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:**
1. ‚úÖ –í—ã–ø–æ–ª–Ω–∏ `git status` –∏ –ø—Ä–æ–≤–µ—Ä—å –í–°–ï –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
2. ‚úÖ –î–æ–±–∞–≤—å **–í–°–ï** —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ `git add`
3. ‚úÖ **–ù–ï –ü–†–û–ü–£–°–ö–ê–ô** —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã: `git diff --cached`

**–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:**
- ‚ùå –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã ‚Üí –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ª–æ–º–∞–µ—Ç—Å—è
- ‚ùå –ß–∞—Å—Ç–∏—á–Ω—ã–π –∫–æ–º–º–∏—Ç ‚Üí –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚ùå –ó–∞–±—ã—Ç—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞/–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –í–°–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è
git status

# 2. –î–æ–±–∞–≤–∏—Ç—å –í–°–ï –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã (–Ω–µ –ø–æ –æ–¥–Ω–æ–º—É!)
git add file1.py file2.py file3.py ...
# –ò–õ–ò –¥–ª—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–∞–ø–∫–µ
git add bot/services/

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–º–º–∏—Ç
git diff --cached

# 4. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ - –∫–æ–º–º–∏—Ç
git commit -m "message"

# 5. Push
git push origin master
```

---

## ‚õî‚õî‚õî –ê–ë–°–û–õ–Æ–¢–ù–´–ô –ó–ê–ü–†–ï–¢ –ù–ê –£–î–ê–õ–ï–ù–ò–ï –§–ê–ô–õ–û–í ‚õî‚õî‚õî
### **–ù–ò–ö–û–ì–î–ê –ù–ï –ò–°–ü–û–õ–¨–ó–£–ô `rm`, `rm -f`, `rm -rf` –∏–ª–∏ –ª—é–±—ã–µ –∫–æ–º–∞–Ω–¥—ã —É–¥–∞–ª–µ–Ω–∏—è!**
**–í–°–ï –§–ê–ô–õ–´ –¢–û–õ–¨–ö–û –ü–ï–†–ï–ú–ï–©–ê–¢–¨ –í –ê–†–•–ò–í!**

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± "—É–¥–∞–ª–µ–Ω–∏—è" —Ñ–∞–π–ª–æ–≤:**
```bash
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –ù–ò–ö–û–ì–î–ê –¢–ê–ö –ù–ï –î–ï–õ–ê–¢–¨:
rm test_file.py              # ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û!
rm -f *.css                   # ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û!
rm -rf temp_folder/           # ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û!

# –ü–†–ê–í–ò–õ–¨–ù–û - –í–°–ï–ì–î–ê –¢–ê–ö:
mkdir -p archive_$(date +%Y%m%d)           # ‚úÖ –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤
mv test_file.py archive_$(date +%Y%m%d)/   # ‚úÖ –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∞—Ä—Ö–∏–≤
mv *.css archive_$(date +%Y%m%d)/          # ‚úÖ –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∞—Ä—Ö–∏–≤
mv temp_folder/ archive_$(date +%Y%m%d)/   # ‚úÖ –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∞—Ä—Ö–∏–≤
```

**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –ê–ë–°–û–õ–Æ–¢–ù–û–ï –∏ –ù–ï –ò–ú–ï–ï–¢ –ò–°–ö–õ–Æ–ß–ï–ù–ò–ô!**

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–∞—á–µ—Å—Ç–≤—É –∫–æ–¥–∞ üî¥
**–≠–¢–û –ö–û–ú–ú–ï–†–ß–ï–°–ö–ò–ô –ü–†–û–ï–ö–¢! –¢–û–õ–¨–ö–û PRODUCTION-READY –ö–û–î!**

### ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–ê–í–ò–õ–ê –†–ê–ó–†–ê–ë–û–¢–ö–ò:
1. **–ù–ò–ö–ê–ö–ò–• –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –∏–ª–∏ –∫–æ—Å—Ç—ã–ª–µ–π** - —Ç–æ–ª—å–∫–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
2. **–ù–ò–ö–ê–ö–ò–• —Ö–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π** - –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. **–í–°–ï–ì–î–ê –¥–µ–ª–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–æ–¥–µ–ª–µ–π Django
4. **–í–°–ï–ì–î–ê –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –æ—à–∏–±–∫–∏** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ graceful degradation
5. **–í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–π —Ç–∏–ø–∏–∑–∞—Ü–∏—é** (type hints) –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤
6. **–í–°–ï–ì–î–ê —Å–ª–µ–¥—É–π –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID –∏ DRY**
7. **–í–°–ï–ì–î–ê –ø–∏—à–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π –∫–æ–¥** —Å —Ä–∞—Å—á–µ—Ç–æ–º –Ω–∞ —Ä–æ—Å—Ç –Ω–∞–≥—Ä—É–∑–∫–∏
8. **–í–°–ï–ì–î–ê —É—á–∏—Ç—ã–≤–∞–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∑–∞—â–∏—Ç–∞ –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π
9. **–í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–π –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
10. **–ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –º–∞—Ä–∫–µ—Ä—ã –≤ —Ç–µ–∫—Å—Ç–µ** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö - —Å–æ–∑–¥–∞–≤–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ –º–æ–¥–µ–ª—è—Ö

### üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤ (models, services, routers, utils)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–¥–µ —É–º–µ—Å—Ç–Ω–æ
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Redis
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î (select_related, prefetch_related)
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### üíª –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–¥—É:
- –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (docstrings)
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Enum –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ —Ç–∏–ø–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö edge cases
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –æ—à–∏–±–æ–∫

### üöÄ –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ–∏—á:
1. –°–Ω–∞—á–∞–ª–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
2. –°–æ–∑–¥–∞–π –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥–µ–ª–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏
3. –ù–∞–ø–∏—à–∏ –º–∏–≥—Ä–∞—Ü–∏—é Django
4. –†–µ–∞–ª–∏–∑—É–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
5. –î–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ —Ä–æ—É—Ç–µ—Ä—ã
6. –ü–æ–∫—Ä–æ–π –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
7. –î–æ–±–∞–≤—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
8. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### ‚õî –ß–¢–û –ó–ê–ü–†–ï–©–ï–ù–û:
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Ç–∏–ø–∞ "–ø–æ—Ç–æ–º –∏—Å–ø—Ä–∞–≤–∏–º"
- –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—è—Ö —á–µ—Ä–µ–∑ –º–∞—Ä–∫–µ—Ä—ã
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ bare except
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ —Ç–∞–º, –≥–¥–µ –Ω—É–∂–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
- SQL –∏–Ω—ä–µ–∫—Ü–∏–∏ –∏ –¥—Ä—É–≥–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞

---

## üõ°Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê –í–ê–õ–ò–î–ê–¶–ò–ò –î–ê–ù–ù–´–•

### ‚ö†Ô∏è –£–†–û–ö –ò–ó PRODUCTION BUG: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–Ω–æ—è–±—Ä—å 2025)

**–ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥–µ–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ –æ—Ç—á–µ—Ç–∞—Ö –∏–∑-–∑–∞ –¥–≤—É—Ö –±–∞–≥–æ–≤:

#### üêõ –ë–ê–ì #1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –ø—É—Å—Ç—ã–º–∏ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
**–°–∏–º–ø—Ç–æ–º:** –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –ø–æ–ª–µ–º `name`, –Ω–æ –ø—É—Å—Ç—ã–º–∏ `name_ru`/`name_en`
**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ –ø–æ–ª–µ –≤–º–µ—Å—Ç–æ –Ω–æ–≤—ã—Ö –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã—Ö –ø–æ–ª–µ–π
**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, —Å–æ–∑–¥–∞–≤–∞—è "–ø—Ä–∏–∑—Ä–∞—á–Ω—ã–µ" –∑–∞–ø–∏—Å–∏ –≤ –æ—Ç—á–µ—Ç–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:** `bot/services/category.py:create_default_categories_sync()`
```python
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (—Å—Ç–∞—Ä—ã–π –∫–æ–¥):
ExpenseCategory(
    profile=profile,
    name=f"{icon} {name}",  # –¢–æ–ª—å–∫–æ —Å—Ç–∞—Ä–æ–µ –ø–æ–ª–µ!
    icon='',
    is_active=True
)

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (–Ω–æ–≤—ã–π –∫–æ–¥):
ExpenseCategory(
    profile=profile,
    name=f"{icon} {name}",          # –î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
    name_ru=name if lang == 'ru' else None,
    name_en=name if lang == 'en' else None,
    original_language=lang,
    is_translatable=True,
    icon=icon,
    is_active=True
)
```

#### üêõ –ë–ê–ì #2: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
**–°–∏–º–ø—Ç–æ–º:** –¢—Ä–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ê –æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ `category_id` –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–º—É –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ—Ç—á–µ—Ç–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:** `bot/services/expense.py:create_expense()`
```python
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –≤–∞–ª–∏–¥–∞—Ü–∏—è category_id:
if category_id is not None:
    try:
        category = ExpenseCategory.objects.select_related('profile').get(id=category_id)

        is_valid_category = False

        # –°–ª—É—á–∞–π 1: –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Å–∞–º–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        if category.profile_id == profile.id:
            is_valid_category = True
        # –°–ª—É—á–∞–π 2: –°–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç - –∫–∞—Ç–µ–≥–æ—Ä–∏—è –æ—Ç —á–ª–µ–Ω–∞ —Å–µ–º—å–∏
        elif profile.household_id is not None:
            if category.profile.household_id == profile.household_id:
                is_valid_category = True

        if not is_valid_category:
            raise ValueError("–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")

    except ExpenseCategory.DoesNotExist:
        raise ValueError(f"–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å ID {category_id} –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
```

#### üìã –ü–†–ê–í–ò–õ–ê –í–ê–õ–ò–î–ê–¶–ò–ò –î–ê–ù–ù–´–• (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –°–û–ë–õ–Æ–î–ê–¢–¨):

1. **–í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å—É—â–Ω–æ—Å—Ç–∏**
   - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç—Ä–∞—Ç—ã ‚Üí –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ category.profile == expense.profile
   - –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö ‚Üí –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞
   - –î–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ household

2. **–í–°–ï–ì–î–ê –∑–∞–ø–æ–ª–Ω—è–π –í–°–ï –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏**
   - –ü—Ä–æ–≤–µ—Ä—è–π —á—Ç–æ –Ω–æ–≤—ã–µ –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ) –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
   - –ù–µ –ø–æ–ª–∞–≥–∞–π—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç–∞—Ä—ã–µ –ø–æ–ª—è –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
   - –ü—Ä–∏ bulk_create –ø—Ä–æ–≤–µ—Ä—è–π —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

3. **–í–°–ï–ì–î–ê –≤–∞–ª–∏–¥–∏—Ä—É–π FK –ø–µ—Ä–µ–¥ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ–º**
   - –ü—Ä–æ–≤–µ—Ä—è–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä—è–π –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
   - –õ–æ–≥–∏—Ä—É–π –ø–æ–ø—ã—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á—É–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö

4. **–í–°–ï–ì–î–ê –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π legacy –¥–∞–Ω–Ω—ã–µ**
   - –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Å–æ–∑–¥–∞–≤–∞–π —Å–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏
   - –°–∫—Ä–∏–ø—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–∂–∏–º–µ dry-run –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –õ–æ–≥–∏—Ä—É–π –í–°–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –æ—Ç–∫–∞—Ç–∞

#### üîß –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

**1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏—Ç—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**
```bash
# –¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–≥–æ–Ω (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):
python fix_broken_categories.py

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
python fix_broken_categories.py --apply
```

**2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ç —Å —á—É–∂–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:**
```bash
# –¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–≥–æ–Ω (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):
python fix_expenses_with_foreign_categories.py

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
python fix_expenses_with_foreign_categories.py --apply
```

#### ‚ö° –ú–∞—Å—à—Ç–∞–± –ø—Ä–æ–±–ª–µ–º—ã (–Ω–æ—è–±—Ä—å 2025):
- –ó–∞—Ç—Ä–æ–Ω—É—Ç–æ: **—Å–æ—Ç–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
- –ü–µ—Ä–∏–æ–¥: —Å **20 —Å–µ–Ω—Ç—è–±—Ä—è 2025** (–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏)
- –ë–∏—Ç—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π: **~300**
- –¢—Ä–∞—Ç —Å —á—É–∂–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏: **—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ**

---

## –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è
**–í–ê–ñ–ù–û:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
- **–ú–µ–Ω—é** - —ç—Ç–æ –¢–û–õ–¨–ö–û –∫–Ω–æ–ø–∫–∞ –≤ Telegram —Å–ª–µ–≤–∞ –æ—Ç –ø–æ–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞ (/start, /help, /cashback –∏ —Ç.–¥.). –≠—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è Telegram –¥–ª—è –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞.
- **–°–æ–æ–±—â–µ–Ω–∏—è —Å inline-–∫–Ω–æ–ø–∫–∞–º–∏** - —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –ø–æ–¥ —Ç–µ–∫—Å—Ç–æ–º. –ù–ï –Ω–∞–∑—ã–≤–∞–µ–º –∏—Ö "–º–µ–Ω—é".
- **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞** - –Ω–∞–±–æ—Ä inline-–∫–Ω–æ–ø–æ–∫ –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º –±–æ—Ç–∞.

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞
**–í–ê–ñ–ù–û:** –£ –±–æ—Ç–∞ –ù–ï–¢ –∫–æ–º–∞–Ω–¥—ã /menu! –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ inline-–∫–Ω–æ–ø–∫–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö.

### –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑:
- –ö–æ–º–∞–Ω–¥—É /start
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ Telegram

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é —Ç—Ä–∞—Ç (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "üí∏ –¢—Ä–∞—Ç—ã —Å–µ–≥–æ–¥–Ω—è"):
1. **üìî –î–Ω–µ–≤–Ω–∏–∫ —Ç—Ä–∞—Ç** - –ø–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 30 —Ç—Ä–∞—Ç
2. **üìã –°–ø–∏—Å–æ–∫ —Ç—Ä–∞—Ç** - –ø–æ–∫–∞–∑ —Ç—Ä–∞—Ç –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –¥–Ω—è (–º–∞–∫—Å 20)
3. **üìÖ –° –Ω–∞—á–∞–ª–∞ –º–µ—Å—è—Ü–∞** - —Å–≤–æ–¥–∫–∞ —Å –Ω–∞—á–∞–ª–∞ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
4. **‚ùå –ó–∞–∫—Ä—ã—Ç—å** - –∑–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
**–í–ê–ñ–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–π —Å—É–±–∞–≥–µ–Ω—Ç—ã Task –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–µ–∫—Ç–µ!

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—É–±–∞–≥–µ–Ω—Ç—ã:
1. **general-purpose** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞
   - –ü–æ–∏—Å–∫ —Ñ—É–Ω–∫—Ü–∏–π, –∫–ª–∞—Å—Å–æ–≤, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   - –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
   - –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤:

#### üîç –ü–æ–∏—Å–∫ –≤ –∫–æ–¥–µ
```
Task (general-purpose): "–ù–∞–π–¥–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å Expense"
Task (general-purpose): "–ì–¥–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –±–æ—Ç–µ?"
Task (general-purpose): "–ù–∞–π–¥–∏ –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ /start"
```

#### üìä –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
```
Task (general-purpose): "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–¥–µ–ª–µ–π Django –∏ –∏—Ö —Å–≤—è–∑–∏"
Task (general-purpose): "–ö–∞–∫–∏–µ celery –∑–∞–¥–∞—á–∏ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏ —á—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç?"
Task (general-purpose): "–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å AI —Å–µ—Ä–≤–∏—Å–∞–º–∏ (OpenAI/Google)?"
```

#### üîß –ü–æ–∏—Å–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```
Task (general-purpose): "–ù–∞–π–¥–∏ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ"
Task (general-purpose): "–ö–∞–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –µ—Å—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PDF –æ—Ç—á–µ—Ç–∞–º–∏?"
Task (general-purpose): "–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Telegram webhook?"
```

#### üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```
Task (general-purpose): "–ù–∞–π–¥–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –æ—à–∏–±–∫–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏"
Task (general-purpose): "–ì–¥–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ —Ç—Ä–∞—Ç?"
Task (general-purpose): "–ù–∞–π–¥–∏ –≤—Å–µ –ª–æ–≥–≥–µ—Ä—ã –∏ —á—Ç–æ –æ–Ω–∏ –ª–æ–≥–∏—Ä—É—é—Ç"
```

#### üìÅ –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞
```
Task (general-purpose): "–ö–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —É –ø—Ä–æ–µ–∫—Ç–∞?"
Task (general-purpose): "–ù–∞–π–¥–∏ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Django –∏ –∏—Ö –ø–æ—Ä—è–¥–æ–∫"
Task (general-purpose): "–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —à–∞–±–ª–æ–Ω—ã –¥–ª—è PDF –æ—Ç—á–µ—Ç–æ–≤?"
```

### –ö–æ–≥–¥–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤:
- ‚ùó –ü—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞—Ö –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚ùó –ü—Ä–∏ –ø–æ–∏—Å–∫–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–≥–æ –∫–æ–¥–∞
- ‚ùó –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤
- ‚ùó –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- ‚ùó –ü–µ—Ä–µ–¥ –≤–Ω–µ—Å–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π - –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚ùó –ü—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ –æ—à–∏–±–æ–∫ - –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç—ã:
1. **–°–Ω–∞—á–∞–ª–∞ –∏—Å—Å–ª–µ–¥—É–π** - –∏—Å–ø–æ–ª—å–∑—É–π —Å—É–±–∞–≥–µ–Ω—Ç–∞ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–¥–∞
2. **–ó–∞—Ç–µ–º –ø–ª–∞–Ω–∏—Ä—É–π** - –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
3. **–ü–æ—Ç–æ–º —Ä–µ–∞–ª–∏–∑—É–π** - –≤–Ω–æ—Å–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –ø–æ–ª–Ω—ã–º –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ß–∞—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏ –∏ –Ω—É–∂–Ω—ã–µ —Å—É–±–∞–≥–µ–Ω—Ç—ã:
- **"–î–æ–±–∞–≤—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é"** ‚Üí –°–Ω–∞—á–∞–ª–∞ Task: "–ù–∞–π–¥–∏ –ø–æ—Ö–æ–∂–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–∞–∫ –æ–Ω–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã"
- **"–ò—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫—É"** ‚Üí –°–Ω–∞—á–∞–ª–∞ Task: "–ù–∞–π–¥–∏ –≥–¥–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —ç—Ç–∞ –æ—à–∏–±–∫–∞ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–π –∫–æ–¥"
- **"–ò–∑–º–µ–Ω–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ"** ‚Üí –°–Ω–∞—á–∞–ª–∞ Task: "–ö–∞–∫ —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å?"

### üöÄ –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–´–ô –ó–ê–ü–£–°–ö –°–£–ë–ê–ì–ï–ù–¢–û–í –î–õ–Ø –ë–û–õ–¨–®–ò–• –ó–ê–î–ê–ß
**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –î–ª—è –∑–∞–¥–∞—á —Ç—Ä–µ–±—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö, –í–°–ï–ì–î–ê –∑–∞–ø—É—Å–∫–∞–π —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤ –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û!

#### –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:
- ‚ùó –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö–∞—Ä–¥–∫–æ–¥–∞ –≤ 5+ —Ñ–∞–π–ª–∞—Ö)
- ‚ùó –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (–∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥—É–ª—è—Ö)
- ‚ùó –ú–∞—Å—Å–æ–≤—ã–µ –∑–∞–º–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–µ–Ω–∏–µ API –≤–æ –≤—Å–µ—Ö —Ä–æ—É—Ç–µ—Ä–∞—Ö)
- ‚ùó –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –∫–æ–¥–∞
- ‚ùó –õ—é–±–∞—è –∑–∞–¥–∞—á–∞ –≥–¥–µ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å 3+ —Ñ–∞–π–ª–∞

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:
- ‚ö° –í 4-5 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ —á–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
- üéØ –ö–∞–∂–¥—ã–π —Å—É–±–∞–≥–µ–Ω—Ç —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–≤–æ–µ–º —Ñ–∞–π–ª–µ
- üîÑ –†–∞–±–æ—Ç–∞ –∏–¥–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –Ω–µ –∂–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
- üíæ –≠–∫–æ–Ω–æ–º–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ - –Ω–µ –Ω—É–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–º—è—Ç–∏

#### –ü—Ä–∏–º–µ—Ä:
–ó–∞–¥–∞—á–∞: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –≤ 4 —Ñ–∞–π–ª–∞—Ö (67 –º–µ—Å—Ç)

**–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û** - –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–∑–∞–π–º–µ—Ç 40+ –º–∏–Ω—É—Ç):
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª 1, –ø–æ–¥–æ–∂–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª 2, –ø–æ–¥–æ–∂–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª 3, –ø–æ–¥–æ–∂–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª 4, –ø–æ–¥–æ–∂–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–ü–†–ê–í–ò–õ–¨–ù–û** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–∑–∞–π–º–µ—Ç 10 –º–∏–Ω—É—Ç):
–ó–∞–ø—É—Å—Ç–∏—Ç—å 4 —Å—É–±–∞–≥–µ–Ω—Ç–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –æ–¥–Ω–æ–º –≤—ã–∑–æ–≤–µ Task:
- –°—É–±–∞–≥–µ–Ω—Ç 1: –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª 1
- –°—É–±–∞–≥–µ–Ω—Ç 2: –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª 2
- –°—É–±–∞–≥–µ–Ω—Ç 3: –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª 3
- –°—É–±–∞–≥–µ–Ω—Ç 4: –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª 4

–í—Å–µ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—É—á–∞–µ–º —Å—Ä–∞–∑—É –æ—Ç –≤—Å–µ—Ö!

#### –†–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞:
–ó–∞–¥–∞—á–∞: –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è - –∏—Å–ø—Ä–∞–≤–∏—Ç—å 67 —Ö–∞—Ä–¥–∫–æ–¥–æ–≤ –≤ 4 —Ñ–∞–π–ª–∞—Ö
–†–µ—à–µ–Ω–∏–µ: –ó–∞–ø—É—â–µ–Ω–æ 4 —Å—É–±–∞–≥–µ–Ω—Ç–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 10 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 40+

## –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
**–í–ê–ñ–ù–û:** –Ø –ù–ï –º–æ–≥—É –Ω–∞–ø—Ä—è–º—É—é –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH –∏–ª–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.
**–í–ê–ñ–ù–û:** –Ø —Ä–∞–±–æ—Ç–∞—é –õ–û–ö–ê–õ–¨–ù–û –∏ –Ω–µ –∏–º–µ—é –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É –Ω–∞–ø—Ä—è–º—É—é!

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò üî¥

### ‚õî –ê–ë–°–û–õ–Æ–¢–ù–´–ô –ó–ê–ü–†–ï–¢ –ù–ê –£–î–ê–õ–ï–ù–ò–ï –§–ê–ô–õ–û–í ‚õî
**–ù–ò–ö–û–ì–î–ê –ù–ï –ò–°–ü–û–õ–¨–ó–£–ô –ö–û–ú–ê–ù–î–´:**
- `rm` –∏–ª–∏ `rm -f` –∏–ª–∏ `rm -rf` - **–ó–ê–ü–†–ï–©–ï–ù–û –ü–û–õ–ù–û–°–¢–¨–Æ**
- `del` –∏–ª–∏ `delete` - **–ó–ê–ü–†–ï–©–ï–ù–û**
- –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è - **–ó–ê–ü–†–ï–©–ï–ù–û**

**–í–ú–ï–°–¢–û –£–î–ê–õ–ï–ù–ò–Ø –í–°–ï–ì–î–ê:**
1. –°–æ–∑–¥–∞–π –∞—Ä—Ö–∏–≤–Ω—É—é –ø–∞–ø–∫—É: `mkdir -p archive_YYYYMMDD`
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏ —Ñ–∞–π–ª—ã –≤ –∞—Ä—Ö–∏–≤: `mv —Ñ–∞–π–ª archive_YYYYMMDD/`
3. –ù–ò–ö–û–ì–î–ê –Ω–µ —É–¥–∞–ª—è–π –∞—Ä—Ö–∏–≤–Ω—ã–µ –ø–∞–ø–∫–∏
4. –î–∞–∂–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã - –¢–û–õ–¨–ö–û –í –ê–†–•–ò–í

**–ü–†–ê–í–ò–õ–ê –†–ê–ë–û–¢–´ –° –§–ê–ô–õ–ê–ú–ò:**
- ‚úÖ –†–ê–ó–†–ï–®–ï–ù–û: `mv —Ñ–∞–π–ª archive/` (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ –∞—Ä—Ö–∏–≤)
- ‚úÖ –†–ê–ó–†–ï–®–ï–ù–û: `cp —Ñ–∞–π–ª backup/` (—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–∏)
- ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û: `rm —Ñ–∞–π–ª` (—É–¥–∞–ª–µ–Ω–∏–µ)
- ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û: —É–¥–∞–ª—è—Ç—å —Ñ–∞–π–ª—ã "–¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞"

### –ü–ï–†–ï–î –õ–Æ–ë–û–ô –ö–û–ú–ê–ù–î–û–ô –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:
1. **–ü–†–û–í–ï–†–¨ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–¥** - –∏—Å–ø–æ–ª—å–∑—É–π Read –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–æ–≤
2. **–ü–†–û–í–ï–†–¨ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** - —á–∏—Ç–∞–π docs/SERVER_COMMANDS.md –∏ CLAUDE.md
3. **–ù–ï –ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ô .env** - –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π backup: `cp .env .env.backup_$(date +%Y%m%d_%H%M%S)`
4. **–ù–ï –ò–°–ü–û–õ–¨–ó–£–ô git reset --hard** –±–µ–∑ backup –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
5. **–ù–ï –°–û–ó–î–ê–í–ê–ô –Ω–æ–≤—ã–µ docker-compose.yml** - –∏—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–ª–∏ —Å–ø—Ä–æ—Å–∏
6. **–ù–ï –£–î–ê–õ–Ø–ô —Ñ–∞–π–ª—ã** - —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ—â–∞–π –≤ –∞—Ä—Ö–∏–≤

### –¢–ï–ö–£–©–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê (–í–ê–ñ–ù–û!):
- **APP —Å–µ—Ä–≤–µ—Ä**: 94.198.220.155 (Telegram bot, Django admin, Celery)
- **DB —Å–µ—Ä–≤–µ—Ä**: 5.129.251.120 (PostgreSQL, Redis)
- **–°–≤—è–∑—å**: —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–µ IP (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è WireGuard VPN)

### –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –§–ê–ô–õ–´ - –ù–ï –£–î–ê–õ–Ø–¢–¨:
- `.env` - —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–∫–µ–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏ (–í–°–ï–ì–î–ê –¥–µ–ª–∞–π backup –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º!)
- `docker-compose.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- `/home/batman/expense_bot_backup_*.sql` - —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ë–î –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨ –ö–û–ú–ê–ù–î:
```bash
# 1. –í–°–ï–ì–î–ê —Å–Ω–∞—á–∞–ª–∞ backup
cp .env .env.backup_$(date +%Y%m%d_%H%M%S)

# 2. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å GitHub
git stash  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin master
git stash pop  # –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

# 3. –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π git reset --hard –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏!
```

### üìå –ö–û–ú–ê–ù–î–´ –î–õ–Ø –°–ï–†–í–ï–†–ê
**–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π –≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Ñ–∞–π–ª–∞:** `docs/SERVER_COMMANDS.md`
- –¢–∞–º –µ—Å—Ç—å –í–°–ï —Ä–∞–±–æ—á–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
- –ö–æ–º–∞–Ω–¥—ã —É–∂–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ù–ï –ø—Ä–∏–¥—É–º—ã–≤–∞–π –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã, –∏—Å–ø–æ–ª—å–∑—É–π –≥–æ—Ç–æ–≤—ã–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–æ–≤ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
1. –Ø –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω–∏—Ç –∫–æ–º–∞–Ω–¥—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å—Ç–∞–≤–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞—Ç–Ω–æ

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º:
- –Ø –¥–∞—é –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–æ–ø–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥ –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –º–Ω–µ
- –Ø –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –¥–∞—é —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã

## Server Configuration

### Primary Server (APP + Web)
- Server IP: 94.198.220.155
- Bot Domain: expensebot.duckdns.org
- Landing Domain: www.coins-bot.ru
- Server path: /home/batman/expense_bot
- Server OS: Ubuntu 22.04.5 LTS
- SSL: Let's Encrypt certificate (expires 2025-11-07)
- Web server: Nginx 1.18.0 with reverse proxy to Django on port 8000
- User: batman

### Backup Server (–ü–û–õ–ù–û–°–¢–¨–Æ –ù–ê–°–¢–†–û–ï–ù)
- **Server IP:** 72.56.67.202
- **Server path:** `/home/batman/expense_bot_deploy/expense_bot/`
- **User:** batman (—Å sudo –ø—Ä–∞–≤–∞–º–∏)
- **OS:** Ubuntu 24.04.1 LTS
- **Docker:** Docker CE v28.4.0, Docker Compose v2.39.4
- **SSL:** Let's Encrypt –¥–æ 27.12.2025
- **–î–æ–º–µ–Ω:** https://expensebot.duckdns.org (—Ç–æ—Ç –∂–µ –¥–æ–º–µ–Ω!)
- **Webhook URL:** `https://expensebot.duckdns.org/webhook/` (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º)
- **Purpose:** –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å Docker
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –õ–æ–∫–∞–ª—å–Ω–∞—è PostgreSQL –≤ Docker (222 —Ç—Ä–∞—Ç—ã, 17 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
- **Redis:** –õ–æ–∫–∞–ª—å–Ω—ã–π –≤ Docker
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í –ö –≠–ö–°–¢–†–ï–ù–ù–û–ô –ê–ö–¢–ò–í–ê–¶–ò–ò

#### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:
- `expense_bot_app` - Telegram –±–æ—Ç (–ø–æ—Ä—Ç 8001)
- `expense_bot_web` - Django –∞–¥–º–∏–Ω–∫–∞ (–ø–æ—Ä—Ç 8000)
- `expense_bot_db` - PostgreSQL
- `expense_bot_redis` - Redis
- `expense_bot_celery` - Celery –≤–æ—Ä–∫–µ—Ä
- `expense_bot_celery_beat` - Celery –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

#### –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (1-2 –º–∏–Ω—É—Ç—ã):
1. **–ò–∑–º–µ–Ω–∏—Ç—å DNS:** –ù–∞ DuckDNS –∏–∑–º–µ–Ω–∏—Ç—å IP expensebot —Å 94.198.220.155 –Ω–∞ 72.56.67.202
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   ssh batman@72.56.67.202
   cd /home/batman/expense_bot_deploy/expense_bot
   docker compose start
   docker compose ps
   ```
3. **Webhook –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ù–ï –Ω—É–∂–Ω–æ** (URL —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω!)

#### –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
–°–º. —Ñ–∞–π–ª `docs/RESERVE_SERVER_72.56.67.202.md`

### Database Server
- Server IP: 5.129.251.120
- Services: PostgreSQL 15, Redis
- Note: –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Ç–æ–ª—å–∫–æ –¥–ª—è –ë–î

## Docker Containers
- expense_bot_web - Django admin panel (port 8000)
- expense_bot_app - Telegram bot
- expense_bot_celery - Background tasks
- expense_bot_celery_beat - Scheduled tasks
- expense_bot_db - PostgreSQL 15
- expense_bot_redis - Redis cache

### üî¥ –í–ê–ñ–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å docker-compose –∫–æ–º–∞–Ω–¥

**–ù–∞ PRIMARY SERVER (80.66.87.178) - –°–¢–ê–†–ê–Ø –≤–µ—Ä—Å–∏—è docker-compose:**
```bash
# –ò–ú–ï–ù–ê –°–ï–†–í–ò–°–û–í –í docker-compose.yml:
# - bot (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: expense_bot_app)
# - web (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: expense_bot_web)
# - celery (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: expense_bot_celery)
# - celery-beat (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: expense_bot_celery_beat)
# - db (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: expense_bot_db)
# - redis (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: expense_bot_redis)

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ï –ö–û–ú–ê–ù–î–´ (—Ñ–ª–∞–≥–∏ –ü–û–°–õ–ï –∫–æ–º–∞–Ω–¥—ã):
docker-compose logs --tail=50 bot          # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs --tail=100 web         # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤–µ–±
docker-compose logs --follow bot           # –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose ps                          # –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose restart bot                 # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç
docker-compose stop bot                    # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç
docker-compose up -d bot                   # –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ï –ö–û–ú–ê–ù–î–´ (–ù–ï –†–ê–ë–û–¢–ê–Æ–¢ –Ω–∞ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏):
docker-compose logs bot --tail=50          # ‚ùå ERROR: No such service: --tail
docker-compose logs bot --follow           # ‚ùå ERROR: No such service: --follow

# üîÑ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê - –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ docker (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ):
docker logs --tail 50 expense_bot_app      # –õ–æ–≥–∏ –±–æ—Ç–∞
docker logs --tail 50 expense_bot_web      # –õ–æ–≥–∏ –≤–µ–±
docker logs -f expense_bot_app             # –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ (-f = follow)
docker ps                                  # –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker restart expense_bot_app             # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç
```

**–ù–∞ BACKUP SERVER (72.56.67.202) - –ù–û–í–ê–Ø –≤–µ—Ä—Å–∏—è docker compose:**
```bash
# ‚úÖ –ù–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (docker compose –ë–ï–ó –¥–µ—Ñ–∏—Å–∞):
docker compose logs bot --tail 50          # –õ–æ–≥–∏ –±–æ—Ç–∞
docker compose logs --follow bot           # –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏
docker compose ps                          # –°—Ç–∞—Ç—É—Å
docker compose restart bot                 # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
```

**–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è PRIMARY SERVER!**

## Database

### Production Database (on server)
- Type: PostgreSQL 15 (Alpine)
- Database name: expense_bot
- User: expense_user (DB_USER –≤ .env)
- Container: expense_bot_db
- Default credentials: DB_USER=expense_user, DB_NAME=expense_bot
- **–í–ê–ñ–ù–û:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î - expense_user, –ù–ï batman!
- –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–º–ø–∞: `docker exec expense_bot_db pg_dump -U expense_user expense_bot > backup.sql`

### Local Development Database
- **Type:** PostgreSQL 17
- **Database name:** expense_bot_local
- **User:** expense_user
- **Password:** local_password (–∏–∑ .env)
- **Host:** localhost
- **Port:** 5432
- **PostgreSQL bin path:** `C:\Program Files\PostgreSQL\17\bin\`
- **–ê–¥–º–∏–Ω:** postgres / Aa07900790

**–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–º–ø–∞ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î:**
```bash
# 1. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
export PGPASSWORD=Aa07900790
psql -h localhost -U postgres -c "CREATE DATABASE expense_bot_local OWNER expense_user;"

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–º–ø
export PGPASSWORD=local_password
psql -h localhost -U expense_user -d expense_bot_local -f dump_file.sql

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
psql -h localhost -U expense_user -d expense_bot_local -c "\dt"
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç:**
```bash
python load_dump.py  # –°–∫—Ä–∏–ø—Ç –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
```

## Static Files
- Container path: /app/staticfiles/
- Host path: /home/batman/expense_bot/staticfiles/
- Nginx alias: /var/www/expense_bot_static/ (symlink)
- Served directly by Nginx at /static/

## Admin Panel
- URL: https://expensebot.duckdns.org/admin/
- Superuser: admin or batman
- CSRF configured for HTTPS
- Static files served by Nginx

## Update Process
Standard update commands:
```bash
cd /home/batman/expense_bot && \
docker-compose down && \
git fetch --all && \
git reset --hard origin/master && \
git pull origin master && \
docker-compose build --no-cache && \
docker-compose up -d --force-recreate && \
docker image prune -f
```

## Important Files on Server
- /etc/nginx/sites-available/expensebot - Nginx config
- /etc/letsencrypt/live/expensebot.duckdns.org/ - SSL certificates
- ~/expense_bot/.env - Environment variables (not in git)
- ~/expense_bot/nginx/expensebot-ssl.conf - SSL config backup

## Automated Services
- Certbot auto-renewal for SSL
- Cron job for nginx restoration after reboot
- Docker containers auto-restart policy: unless-stopped

## Legal Documents URLs
**Landing page domain:** www.coins-bot.ru

### Russian:
- **–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏**: https://www.coins-bot.ru/privacy.html
- **–ü—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞**: https://www.coins-bot.ru/offer.html

### English:
- **Privacy Policy**: https://www.coins-bot.ru/privacy_en.html
- **Terms of Service**: https://www.coins-bot.ru/offer_en.html

**Local files location:** `/Users/aleksejnalbantov/Desktop/expense_bot/landing/`
- privacy.html (RU)
- privacy_en.html (EN)
- offer.html (RU)
- offer_en.html (EN)

## Telegram Channel
**Channel name:** Coins
**Channel handle:** @showmecoins
**URL:** https://t.me/showmecoins

**Purpose:** –ö–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–≤–µ—Ç—ã –ø–æ —Ñ–∏–Ω–∞–Ω—Å–∞–º, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞, –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–ì–¥–µ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è:**
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ /start (–≤ –∫–æ–Ω—Ü–µ)
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –º–µ–Ω—é "–û –±–æ—Ç–µ" –∏–ª–∏ "–ü–æ–º–æ—â—å"

## Recent Changes
- Added grocery store keywords (–ö–ë, –ö—Ä–∞—Å–Ω–æ–µ –±–µ–ª–æ–µ, –í–í) to product category
- Made description optional for recurring payments (uses category name if empty)
- Fixed trial subscription reset issue (now only granted once)
- Fixed case preservation in expense descriptions
- Added HTTPS support with Let's Encrypt
- Configured Django admin panel with proper CSRF settings
- Improved dialog system with better intent recognition
- Added "üìã –°–ø–∏—Å–æ–∫ —Ç—Ä–∞—Ç" button in expenses menu (shows last 2 days, max 20 items)

## Security Notes
- DEBUG=False in production
- SECURE_SSL_REDIRECT=False (handled by nginx)
- CSRF_TRUSTED_ORIGINS includes https://expensebot.duckdns.org
- SESSION_COOKIE_SECURE=True
- CSRF_COOKIE_SECURE=True

## Legacy Server Information (Old)
- IP: 194.87.98.75
- –ü—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É: /root/expense_bot
- –õ–æ–≥–∏ Django: /root/expense_bot/logs/django.log

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–í–ê–ñ–ù–û:** –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `docs/`
- `docs/CELERY_DOCUMENTATION.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Celery (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∑–∞–¥–∞—á–∏, troubleshooting)
- `docs/MONITORING_DOCUMENTATION.md` - —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, Sentry, health checks, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–µ–Ω–¥–∏–Ω–≥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–µ–Ω–¥–∏–Ω–≥–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ `git pull` —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —Å—Ç–∞—Ä–∞—è –∏–∑-–∑–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π:**
```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh batman@94.198.220.155

# 2. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
cd /home/batman/expense_bot
git pull

# 3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –ª–µ–Ω–¥–∏–Ω–≥–∞ –≤ –≤–µ–±-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
sudo cp -rf landing/* /var/www/coins-bot/

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞
sudo chown -R www-data:www-data /var/www/coins-bot/

# 5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å nginx –¥–ª—è —Å–±—Ä–æ—Å–∞ –∫–µ—à–∞
sudo nginx -s reload
```

**–ò–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:**
```bash
cd /home/batman/expense_bot && git pull && sudo cp -rf landing/* /var/www/coins-bot/ && sudo chown -R www-data:www-data /var/www/coins-bot/ && sudo nginx -s reload
```

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
1. **–í –±—Ä–∞—É–∑–µ—Ä–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:** –ù–∞–∂–∞—Ç—å `Ctrl+F5` (Windows/Linux) –∏–ª–∏ `Cmd+Shift+R` (Mac)
2. **–ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º:** –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12) –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Network ‚Üí –æ—Ç–∫–ª—é—á–∏—Ç—å –∫–µ—à

### –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å–µ –µ—â–µ —Å—Ç–∞—Ä–∞—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–∏–ª–∏—Å—å
grep -c "–∏—Å–∫–æ–º—ã–π_—Ç–µ–∫—Å—Ç" /var/www/coins-bot/index.html

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å nginx
sudo systemctl restart nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—Ç—É –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞
ls -la /var/www/coins-bot/index.html
```

## Backup Process
**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–º–ø–∞ –ë–î —á–µ—Ä–µ–∑ Docker
```bash
# –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º expense_user
docker exec expense_bot_db pg_dump -U expense_user expense_bot > /home/batman/backups/backup_$(date +%Y%m%d_%H%M%S).sql

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –¥–∞–º–ø–∞
ls -la /home/batman/backups/

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ –¥–ª—è –±—ç–∫–∞–ø–æ–≤ –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
mkdir -p /home/batman/backups/
```

### –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏
cd /home/batman && tar -czf backups/expense_bot_project_$(date +%Y%m%d_%H%M%S).tar.gz \
  --exclude='expense_bot/__pycache__' \
  --exclude='expense_bot/.git' \
  --exclude='expense_bot/logs' \
  --exclude='expense_bot/staticfiles' \
  --exclude='expense_bot/.env' \
  expense_bot/
```

### –ü—É—Ç—å –¥–ª—è –±—ç–∫–∞–ø–æ–≤
- –û—Å–Ω–æ–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: `/home/batman/backups/`
- –î–∞–º–ø—ã –ë–î: `/home/batman/backups/backup_YYYYMMDD_HHMMSS.sql`
- –ê—Ä—Ö–∏–≤—ã –ø—Ä–æ–µ–∫—Ç–∞: `/home/batman/backups/expense_bot_project_YYYYMMDD_HHMMSS.tar.gz`

## Common Errors
**–í–ê–ñ–ù–´–ï –û–®–ò–ë–ö–ò –ò –ò–• –†–ï–®–ï–ù–ò–Ø:**

### ‚ùå –û—à–∏–±–∫–∞ "role batman is not permitted to log in"
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è batman –¥–ª—è –ë–î
```bash
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
docker exec expense_bot_db pg_dump -U batman expense_bot

# –ü–†–ê–í–ò–õ–¨–ù–û:
docker exec expense_bot_db pg_dump -U expense_user expense_bot
```
**–†–µ—à–µ–Ω–∏–µ:** –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π expense_user –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ë–î!

### ‚ùå –û—à–∏–±–∫–∞ —Å CRLF line endings
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª—ã —Å Windows line endings –Ω–∞ Linux —Å–µ—Ä–≤–µ—Ä–µ
```bash
# –°–∏–º–ø—Ç–æ–º—ã:
/bin/bash^M: bad interpreter
syntax error near unexpected token

# –†–ï–®–ï–ù–ò–ï:
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å dos2unix –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
sudo apt-get install dos2unix

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª
dos2unix filename.sh

# –î–ª—è –≤—Å–µ—Ö .sh —Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
find . -name "*.sh" -type f -exec dos2unix {} \;
```

### ‚ùå –û—à–∏–±–∫–∞ "Permission denied" –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤
```bash
# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x script.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
ls -la script.sh
```

### ‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ë–î –∑–∞–ø—É—â–µ–Ω
docker ps | grep expense_bot_db

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ë–î
docker logs expense_bot_db

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker exec expense_bot_app env | grep DB_
```

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ PDF –æ—Ç—á–µ—Ç–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö Django
tail -n 100 /root/expense_bot/logs/django.log | grep -E "(PDF|pdf|report|–æ—Ç—á–µ—Ç|error|ERROR|Exception)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤
journalctl -u expense_bot -n 100 --no-pager

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Playwright
cd /root/expense_bot && source venv/bin/activate && playwright --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤ Playwright
cd /root/expense_bot && source venv/bin/activate && playwright show-browsers
```